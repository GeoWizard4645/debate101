<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PRIMARY SEO TAGS -->
    <title>Debate 101 | Open Source Competitive Discourse & AI Tools</title>
    <meta name="description" content="Debate 101 is an open-source collective providing elite AI resolution analysis, Verbatim auto-flow tools, and the world's largest collection of debate resources.">
    <meta name="keywords" content="debate, LD debate, Policy debate, Lincoln Douglas, debate tools, resolution ai, verbatim, debate flow, high school debate, debate resources">
    <meta name="author" content="Debate 101 Collective">
    <link rel="canonical" href="https://debate101.org/">

    <!-- OPEN GRAPH / SOCIAL MEDIA SEO -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://debate101.org/">
    <meta property="og:title" content="Debate 101 | Architecting the Future of Discourse">
    <meta property="og:description" content="Access elite AI-driven strategy, automated flow generators, and the world's largest collection of debate tools.">
    <meta property="og:image" content="assets/logo.PNG">

    <!-- STRUCTURED DATA (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Debate 101",
      "url": "https://debate101.org",
      "logo": "https://debate101.org/assets/logo.PNG",
      "description": "An unincorporated non-profit collective bridging the gap between novice learners and elite competition through AI tools and community.",
      "founders": [
        { "@type": "Person", "name": "Vivaan Shahani" },
        { "@type": "Person", "name": "Max Feinstein" },
        { "@type": "Person", "name": "Max McBride" },
        { "@type": "Person", "name": "Arjun Gupta" }
      ]
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="assets/logo.PNG">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@1.2.0/dist/xlsx.bundle.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');

        :root {
            --mck-blue: #051C2C;
            --mck-accent: #0072b1;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: #1a1a1a;
            scroll-behavior: smooth;
        }

        .mck-serif {
            font-family: 'Playfair Display', serif;
        }

        .nav-scrolled {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.05);
        }

        /* Wavy Background Animation */
        .hero-section {
            position: relative;
            overflow: hidden;
            background-color: white;
        }

        .wave-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.4;
            pointer-events: none;
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><path fill="%230072b1" fill-opacity="0.1" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-repeat: repeat-x;
            background-position: 0 bottom;
            animation: flow 20s linear infinite;
        }

        .wave2 {
            bottom: 10px;
            opacity: 0.5;
            animation: flow 15s linear infinite reverse;
        }

        @keyframes flow {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Carousel Section Styles */
        .carousel-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            gap: 16px;
            padding: 12px 0;
            scrollbar-width: none;
        }
        .carousel-container::-webkit-scrollbar { display: none; }

        .carousel-card {
            flex: 0 0 300px;
            background: white;
            padding: 20px;
            border: 1px solid #eee;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
        }

        .carousel-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(5, 28, 44, 0.06);
            border-color: transparent;
        }

        .carousel-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #eee;
            transition: background 0.3s ease;
        }

        .carousel-card.accent-blue::before { background: var(--mck-accent); }
        .carousel-card.accent-navy::before { background: var(--mck-blue); }
        .carousel-card.accent-gray::before { background: #d1d5db; }

        .carousel-card .arrow-icon {
            transition: all 0.4s ease;
            color: #ddd;
            font-size: 1rem;
        }

        .carousel-card:hover .arrow-icon {
            color: var(--mck-accent);
            transform: translateX(6px);
        }

        .system-tag {
            font-size: 8px;
            font-weight: 800;
            letter-spacing: 0.1em;
            color: #bbb;
            margin-bottom: 6px;
            display: block;
        }

        /* Team Card Interactions */
        .team-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-top: 1px solid #e5e5e5;
        }

        .team-card:hover {
            border-top-color: var(--mck-accent);
            background-color: #fcfcfc;
        }

        .expand-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out;
        }

        .expand-content.active {
            max-height: 4000px;
        }

        .btn-mck {
            background-color: var(--mck-blue);
            transition: all 0.3s ease;
        }

        .btn-mck:hover {
            background-color: var(--mck-accent);
            letter-spacing: 0.5px;
        }

        /* View transitions */
        .page-view {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .profile-img {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            filter: grayscale(100%);
            transition: filter 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .team-card:hover .profile-img {
            filter: grayscale(0%);
        }

        /* Chat Styling */
        .chat-container {
            height: 600px;
            display: flex;
            flex-direction: column;
            border: 1px solid #e5e5e5;
            background: white;
            border-radius: 4px;
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            scroll-behavior: smooth;
            background-color: #fcfcfc;
        }

        .message {
            max-width: 85%;
            padding: 1.25rem;
            font-size: 0.875rem;
            line-height: 1.6;
            border-radius: 2px;
        }

        .message-user { align-self: flex-end; background: #f8fafc; border-right: 3px solid var(--mck-accent); color: var(--mck-blue); font-weight: 500; }
        .message-architect { align-self: flex-start; background: white; border-left: 3px solid var(--mck-blue); box-shadow: 0 4px 12px rgba(0,0,0,0.03); }

        .ai-content h4 { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--mck-accent); margin: 1.5rem 0 0.75rem 0; }
        .ai-content p { margin-bottom: 1rem; }
        .ai-content li { list-style-type: none; padding-left: 1.25rem; position: relative; margin-bottom: 0.5rem; }
        .ai-content li::before { content: "—"; position: absolute; left: 0; color: #ccc; }

        /* Dropdown Styling */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
            z-index: 100;
            border-top: 2px solid var(--mck-accent);
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content button {
            color: var(--mck-blue);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            width: 100%;
            text-align: left;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: background 0.2s;
        }

        .dropdown-content button:hover {
            background-color: #f1f1f1;
            color: var(--mck-accent);
        }

        /* Directorate Masthead */
        .directorate-bar {
            border-top: 1px solid rgba(0,0,0,0.05);
            margin-top: 0.75rem;
            padding-top: 0.75rem;
        }

        #mobile-menu-overlay { transition: opacity 0.3s ease, visibility 0.3s ease; opacity: 0; visibility: hidden; }
        #mobile-menu-overlay.active { opacity: 1; visibility: visible; }

        /* FAQ Styling */
        .faq-item {
            border-bottom: 1px solid #eee;
            padding: 1.25rem 0;
            transition: background 0.3s;
        }
        .faq-item:hover { background-color: #fafafa; }
        .faq-question {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            color: #666;
            line-height: 1.6;
        }
        .faq-item.active .faq-answer {
            max-height: 500px;
            padding-top: 1rem;
        }
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
        .faq-icon {
            transition: transform 0.3s ease;
            font-size: 0.75rem;
            color: var(--mck-accent);
        }

        /* Resource Label Styling */
        .res-label {
            font-size: 8px;
            font-weight: 800;
            padding: 2px 6px;
            border-radius: 2px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-left: 0;
            display: inline-block;
        }
        .label-internal { background: #e0f2fe; color: #0369a1; border: 1px solid #0369a1; }
        .label-external { background: #f3f4f6; color: #4b5563; border: 1px solid #d1d5db; }

        /* Compact Hub Layout - 1/8th margins */
        .resource-category-section {
            padding-top: 5px;
            padding-bottom: 5px;
            margin-bottom: 2px;
        }
        .hub-title {
            margin-bottom: 4px;
            font-size: 0.875rem;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        .resource-hub-card {
            min-height: 190px;
            height: 190px;
        }

        /* Toggle Switch UI */
        .switch-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; width: 18px;
            left: 3px; bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--mck-accent); }
        input:checked + .slider:before { transform: translateX(26px); }

        /* Search Styling */
        .search-bar-container {
            position: relative;
            max-width: 400px;
        }
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 0.875rem;
        }
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #e2e8f0;
            font-size: 0.875rem;
            outline: none;
            transition: all 0.3s ease;
            background: white;
        }
        .search-input:focus {
            border-color: var(--mck-accent);
            box-shadow: 0 0 0 4px rgba(0, 114, 177, 0.05);
        }
    </style>
</head>
<body class="bg-white">

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-white z-[60] flex flex-col px-6 py-8">
        <div class="flex justify-between items-center mb-12">
            <div class="flex items-center space-x-3">
                <img src="assets/logo.PNG" alt="Logo" class="h-10 w-auto">
                <span class="text-2xl font-bold tracking-tighter text-[#051C2C]">DEBATE<span class="font-light">101</span></span>
            </div>
            <button onclick="toggleMobileMenu()" class="text-[#051C2C] text-2xl"><i class="fas fa-times"></i></button>
        </div>
        <div class="flex flex-col space-y-8 text-sm font-bold uppercase tracking-[0.2em] text-[#051C2C]">
            <button onclick="showPage('home')" class="text-left">Insights</button>
            <button onclick="showPage('team')" class="text-left">Our Team</button>
            <button onclick="showPage('faq')" class="text-left">Resources</button>
            <div class="flex flex-col space-y-4 ml-4">
                <span class="text-[10px] text-gray-400">Tools</span>
                <button onclick="showPage('tools')" class="text-left">Resolution AI</button>
                <button onclick="showPage('autoflow')" class="text-left">Auto Flow Generator</button>
            </div>
            <button onclick="scrollToGoals()" class="text-left">Roadmap</button>
            <a href="https://discord.gg/Vgyt8MrW" target="_blank">Discord</a>
            <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank">Instagram</a>
        </div>
        <div class="mt-auto border-t pt-8">
            <p class="text-[10px] uppercase tracking-widest text-gray-400 font-bold mb-4">Lead Architects</p>
            <p class="text-xs text-gray-600">Vivaan S. // Max F. // Max M. // Arjun G.</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 px-6 py-5 md:px-12">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="assets/logo.PNG" alt="Logo" class="h-10 w-auto">
                    <button onclick="showPage('home')" class="text-2xl font-bold tracking-tighter text-[#051C2C] focus:outline-none">
                        DEBATE<span class="font-light">101</span>
                    </button>
                </div>
                <div class="hidden md:flex space-x-10 text-[10px] font-bold uppercase tracking-[0.2em] text-[#051C2C] items-center">
                    <button onclick="showPage('home')" class="hover:text-[#0072b1] transition-colors">Insights</button>
                    <button onclick="showPage('team')" class="hover:text-[#0072b1] transition-colors">Our Team</button>
                    
                    <div class="dropdown">
                        <button class="hover:text-[#0072b1] transition-colors focus:outline-none flex items-center">
                            Resources <i class="fas fa-chevron-down ml-2 text-[8px]"></i>
                        </button>
                        <div class="dropdown-content">
                            <button onclick="showPage('hub')">Resource Hub</button>
                            <button onclick="showPage('faq')">FAQ</button>
                        </div>
                    </div>

                    <div class="dropdown">
                        <button class="hover:text-[#0072b1] transition-colors focus:outline-none flex items-center">
                            Tools <i class="fas fa-chevron-down ml-2 text-[8px]"></i>
                        </button>
                        <div class="dropdown-content">
                            <button onclick="showPage('tools')">Resolution AI</button>
                            <button onclick="showPage('autoflow')">Auto Flow Generator</button>
                        </div>
                    </div>

                    <button onclick="scrollToGoals()" class="hover:text-[#0072b1] transition-colors">Roadmap</button>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="hover:text-[#0072b1] transition-colors">Discord</a>
                    <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="hover:text-[#0072b1] transition-colors">Instagram</a>
                </div>
                <button onclick="toggleMobileMenu()" class="md:hidden text-[#051C2C]"><i class="fas fa-bars text-xl"></i></button>
            </div>
            <div class="hidden md:flex justify-end directorate-bar">
                <p class="text-[9px] font-bold uppercase tracking-[0.3em] text-gray-400">
                    Lead Architects: <span class="text-[#051C2C] ml-2">Vivaan S. | Max F. | Max M. | Arjun G.</span>
                </p>
            </div>
        </div>
    </nav>

    <!-- Page: Home -->
    <main id="page-home" class="page-view pt-16">
        <section class="min-h-[85vh] flex items-center px-6 md:px-12 hero-section">
            <div class="wave-container">
                <div class="wave"></div>
                <div class="wave wave2"></div>
            </div>
            <div class="max-w-5xl mx-auto w-full relative z-10 pt-12 md:pt-0">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-8">Building the Discourse of Tomorrow</h2>
                <h1 class="mck-serif text-5xl md:text-8xl text-[#051C2C] leading-[1.1] mb-10">
                    Reshaping <span class="italic font-normal text-[#0072b1]">competitive</span> debate through <span class="text-[#051C2C]">open source</span> rigor.
                </h1>
                <p class="text-xl md:text-2xl text-gray-500 max-w-3xl mb-12 leading-relaxed font-light">
                    Debate 101 is an unincorporated non-profit collective bridging the gap between novice learners and elite competition through tools, community, and strategy.
                </p>
                <div class="flex flex-col sm:flex-row gap-6">
                    <button onclick="showPage('autoflow')" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px]">Try Auto Flow Generator</button>
                    <button onclick="showPage('hub')" class="border border-[#051C2C] text-[#051C2C] px-12 py-5 font-bold uppercase tracking-widest text-[10px] hover:bg-[#051C2C] hover:text-white transition-all">Visit Global Resource Hub</button>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="border border-gray-200 text-[#051C2C] px-12 py-5 font-bold uppercase tracking-widest text-[10px] text-center hover:bg-gray-50 transition-all">Join Discord</a>
                </div>
            </div>
        </section>

        <!-- Roadmap -->
        <section id="roadmap" class="bg-[#051C2C] text-white py-32 px-6 md:px-12">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                    <h2 class="mck-serif text-4xl md:text-6xl">2026 Vision Map.</h2>
                    <p class="text-gray-400 max-w-sm text-sm leading-relaxed border-l border-gray-700 pl-6">Advancing LD-focused roots into a broader high school debate circuit ecosystem.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-16">
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest uppercase">Global Repository</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">World's Largest Resource Collection</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Building a living, exhaustive library of every verified tool, course, and research asset in competitive debate. This is our core accessibility mission.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">INFRASTRUCTURE</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">AI Wiki Mining</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Developing automated tools to mine circuit data for meta trends and argument patterns.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">EDUCATION</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">The Lecture Lab</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">A digital archive hosting high-level round analysis and technical breakdowns.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">COMMUNITY</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">Real-time Support</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Discord hub for practice rounds, collaborator matching, and circuit-wide community engagement.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ecosystem Hub Carousel -->
        <section class="py-32 px-6 md:px-12 bg-gray-100 overflow-hidden">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Assets</h2>
                <h3 class="mck-serif text-4xl text-[#051C2C] mb-8">Ecosystem Hub</h3>
                <div class="carousel-container">
                    <div class="carousel-card accent-blue" onclick="showPage('tools')">
                        <div class="flex justify-between items-start">
                            <div><span class="system-tag">SYS_ID: RES-AI</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Resolution AI</span></div>
                            <i class="fas fa-robot text-blue-100 text-2xl"></i>
                        </div>
                        <p class="text-gray-500 text-sm leading-relaxed mt-4">Real-time strategic synthesis engine for resolution analysis and follow-up support.</p>
                        <div class="flex justify-between items-center mt-6">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-blue-500">Live Beta</span>
                            <i class="fas fa-arrow-right arrow-icon"></i>
                        </div>
                    </div>
                    <div class="carousel-card accent-navy" onclick="showPage('autoflow')">
                        <div class="flex justify-between items-start">
                            <div><span class="system-tag">SYS_ID: FLOW-02</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Auto Flow Generator</span></div>
                            <i class="fas fa-file-excel text-blue-100 text-2xl"></i>
                        </div>
                        <p class="text-gray-500 text-sm leading-relaxed mt-4">Instantly convert Verbatim cases into Excel flow templates with pure tag extraction.</p>
                        <div class="flex justify-between items-center mt-6">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Try Now</span>
                            <i class="fas fa-arrow-right arrow-icon"></i>
                        </div>
                    </div>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="carousel-card accent-navy">
                        <div class="flex justify-between items-start">
                            <div><span class="system-tag">SYS_ID: HUB-03</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Discord Hub</span></div>
                            <i class="fab fa-discord text-gray-200 text-2xl"></i>
                        </div>
                        <p class="text-gray-500 text-sm leading-relaxed mt-4">Join our community for practice debates, direct architect access, and round analysis.</p>
                        <div class="flex justify-between items-center mt-6">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Connect Now</span>
                            <i class="fas fa-arrow-right arrow-icon"></i>
                        </div>
                    </a>
                    <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="carousel-card accent-blue">
                        <div class="flex justify-between items-start">
                            <div><span class="system-tag">SYS_ID: MEDIA-04</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Media Channel</span></div>
                            <i class="fab fa-instagram text-blue-500/10 text-2xl"></i>
                        </div>
                        <p class="text-gray-500 text-sm leading-relaxed mt-4">Follow for circuit news, round highlights, and upcoming lecture series announcements.</p>
                        <div class="flex justify-between items-center mt-6">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">View Feed</span>
                            <i class="fas fa-arrow-right arrow-icon"></i>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Global Resource Hub Homepage Section -->
        <section class="py-32 px-6 md:px-12 bg-white">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row gap-16 items-center">
                <div class="md:w-1/2">
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-6">Universal Knowledge Base</h2>
                    <h3 class="mck-serif text-5xl md:text-6xl text-[#051C2C] leading-tight mb-8">The World's Largest <br><span class="italic font-normal text-[#0072b1]">Debate Resource Hub.</span></h3>
                    <p class="text-xl text-gray-500 font-light leading-relaxed mb-10">
                        Debate 101 is cataloging every essential tool, lecture, camp, and research asset in the international circuit. From specialized software like Verbatim to niche critical theory scholarly databases, our Global Hub provides debaters with an exhaustive ecosystem of strategic advantages.
                    </p>
                    <button onclick="showPage('hub')" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] hover:shadow-2xl transition-all">Explore Global Collection</button>
                </div>
                <div class="md:w-1/2 grid grid-cols-2 gap-4">
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-tools text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Strategic Tools</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-university text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Verified Camps</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-book-open text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Research Bases</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-video text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Lecture Vaults</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Who We Are -->
        <section class="py-32 px-6 md:px-12 bg-white border-t border-gray-50">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row gap-16 items-start">
                <div class="md:w-1/3">
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">The Collective</h2>
                    <h3 class="mck-serif text-4xl text-[#051C2C]">Who we are.</h3>
                </div>
                <div class="md:w-2/3">
                    <p class="text-xl text-gray-600 mb-12 font-light leading-relaxed">
                        Debate 101 is driven by a quartet of dedicated debaters and developers committed to scaling high-level discourse. We aren't just creating tools; we are architecting a sustainable learning ecosystem for the next generation of competitive thinkers.
                    </p>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12 text-[#051C2C]">
                        <div><p class="text-xs font-bold uppercase tracking-widest">Vivaan Shahani</p><p class="text-[10px] text-gray-400 uppercase mt-1">Web & Tool Lead</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Max Feinstein</p><p class="text-[10px] text-gray-400 uppercase mt-1">Media & Analysis</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Max McBride</p><p class="text-[10px] text-gray-400 uppercase mt-1">Community Lead</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Arjun Gupta</p><p class="text-[10px] text-gray-400 uppercase mt-1">Lecture Lead</p></div>
                    </div>
                    <button onclick="showPage('team')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px]">Meet the team</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Page: Resource Hub (Highly Condensed) -->
    <main id="page-hub" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="mb-4 flex flex-col md:flex-row justify-between items-end gap-4">
                <div>
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-1">Universal Repository</h2>
                    <h1 class="mck-serif text-3xl md:text-4xl text-[#051C2C] leading-tight">Global <span class="italic text-[#0072b1] font-normal">Resource Hub.</span></h1>
                </div>
                <div class="search-bar-container w-full md:w-auto">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="resource-search" placeholder="Search phil, camps, tools, authors..." oninput="filterResources()" class="search-input shadow-sm rounded-sm">
                </div>
            </div>

            <div id="resource-hub-container">
                <!-- Categories Injected via JS -->
            </div>
        </div>
    </main>

    <!-- Page: Resolution AI -->
    <main id="page-tools" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Lab</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Resolution AI</h1>
                <p class="text-gray-500 max-w-2xl text-base font-light leading-relaxed">Collaborate with our strategic engine to break down resolutions and map offensive paths.</p>
            </div>
            <div class="chat-container max-w-5xl shadow-2xl rounded-sm overflow-hidden mx-auto">
                <div id="chat-messages-res" class="chat-messages chat-scroll-hide">
                    <div class="message message-architect">
                        <p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Architect AI</p>
                        <div class="ai-content"><p>Strategic protocols initialized. Provide a resolution below to begin analysis.</p></div>
                    </div>
                </div>
                <div id="chat-loading-res" class="px-8 py-4 hidden bg-white">
                    <div class="flex items-center space-x-3">
                        <div class="animate-pulse flex space-x-1"><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div></div>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1]">Architect is processing...</span>
                    </div>
                </div>
                <div class="chat-input-area">
                    <div class="flex gap-4">
                        <input type="text" id="resolution-input" placeholder="Enter resolution..." onkeypress="if(event.key === 'Enter') analyzeTopic('res')" class="flex-grow p-4 bg-white border border-gray-200 focus:border-[#0072b1] outline-none text-sm transition-all rounded-sm">
                        <button onclick="analyzeTopic('res')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px] rounded-sm">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Auto Flow Generator -->
    <main id="page-autoflow" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12 text-center">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Utility</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Auto Flow Generator</h1>
                <p class="text-gray-500 max-w-2xl mx-auto text-base font-light leading-relaxed mb-8">
                    Instantly convert Verbatim cases into Excel flow templates. Only tags and citations (Author + Date) are extracted.
                </p>

                <div class="switch-container">
                    <span class="text-[10px] font-bold uppercase tracking-widest text-gray-500">AFF Flow (5 Col)</span>
                    <label class="switch">
                        <input type="checkbox" id="flow-mode-switch">
                        <span class="slider"></span>
                    </label>
                    <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">NEG Flow (4 Col + Tabs)</span>
                </div>

                <div class="bg-white p-12 shadow-xl border border-gray-100 max-w-2xl mx-auto text-center rounded-sm">
                    <i class="fas fa-file-excel text-6xl text-gray-200 mb-8 block"></i>
                    <input type="file" id="docx-input" accept=".docx" class="hidden">
                    <button onclick="document.getElementById('docx-input').click()" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] rounded-sm">Select Verbatim Case</button>
                    <div id="flow-status" class="mt-8 text-xs font-bold uppercase tracking-widest text-gray-400"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: FAQ & Mentor AI -->
    <main id="page-faq" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="mb-16">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Learning Hub</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">FAQ</h1>
                <p class="text-gray-500 text-base font-light leading-relaxed">Fundamental knowledge for every debater, architected for clarity.</p>
            </div>
            <div id="faq-list" class="space-y-2 mb-24"></div>
            <div class="bg-gray-50 p-12 border border-gray-100 text-center mb-24">
                <h3 class="mck-serif text-3xl text-[#051C2C] mb-6">Still have questions?</h3>
                <p class="text-gray-600 mb-8 max-w-md mx-auto">Our human architects and community members are active 24/7 in the Discord.</p>
                <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] rounded-sm inline-block">Join our Discord</a>
            </div>

            <div class="mb-12 border-t pt-24">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Beta Prototype</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Debate Mentor AI</h1>
                <p class="text-gray-500 text-base font-light leading-relaxed mb-12 italic">Generic Debate AI trained on broad theory and terminology.</p>
                <div class="chat-container shadow-2xl rounded-sm overflow-hidden">
                    <div id="chat-messages-faq" class="chat-messages chat-scroll-hide">
                        <div class="message message-architect">
                            <p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Mentor AI</p>
                            <div class="ai-content"><p>Ask me any general question about debate. For example: "What is a Kritik?" or "How do I flow more efficiently?"</p></div>
                        </div>
                    </div>
                    <div id="chat-loading-faq" class="px-8 py-4 hidden bg-white">
                        <div class="flex items-center space-x-3">
                            <div class="animate-pulse flex space-x-1"><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div></div>
                            <span class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1]">Mentor is teaching...</span>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <div class="flex gap-4">
                            <input type="text" id="faq-input" placeholder="Ask a general debate question..." onkeypress="if(event.key === 'Enter') analyzeTopic('faq')" class="flex-grow p-4 bg-white border border-gray-200 focus:border-[#0072b1] outline-none text-sm transition-all rounded-sm">
                            <button onclick="analyzeTopic('faq')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px] rounded-sm">Ask</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Team -->
    <main id="page-team" class="page-view hidden pt-32 px-6 md:px-12 pb-32">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-6">Leadership</h2>
            <h1 class="mck-serif text-6xl md:text-7xl text-[#051C2C] mb-24">The Architects.</h1>
            <div id="team-grid" class="grid grid-cols-1 md:grid-cols-2 gap-x-20 gap-y-20"></div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-100 py-20 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start gap-12">
            <div class="flex items-center space-x-3">
                <img src="assets/logo.PNG" alt="Logo" class="h-8 w-auto">
                <div class="text-2xl font-bold tracking-tighter text-[#051C2C]">DEBATE<span class="font-light">101</span></div>
            </div>
            <div class="flex flex-col space-y-4 text-[10px] font-bold uppercase tracking-widest text-gray-400">
                <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="text-sm text-gray-600 normal-case hover:text-[#0072b1] transition-colors">Instagram</a>
                <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="text-sm text-gray-600 normal-case hover:text-[#0072b1] transition-colors">Discord</a>
            </div>
        </div>
        <p class="mt-20 text-[10px] text-gray-400 uppercase tracking-[0.2em] font-bold text-center">© 2026 DEBATE 101 COLLECTIVE</p>
        <p class="mt-4 text-[10px] text-gray-400 uppercase tracking-[0.1em] text-center">
            If you wish to support our mission buy us a coffee: <a href="https://buymeacoffee.com/debate101" target="_blank" class="text-[#0072b1] hover:underline normal-case tracking-normal font-normal">buymeacoffee.com/debate101</a>
        </p>
    </footer>

    <script>
        const resourceCategories = [
            {
                title: "Infrastructure",
                bgColor: "bg-pastel-blue",
                resources: [
                    { title: "Verbatim", desc: "The standard Word template for paperless debate. Features high-speed formatting macros, card organization, and automated case building used by almost every national circuit debater.", link: "https://paperlessdebate.com/", type: "external", icon: "fas fa-keyboard", keywords: "software, template, formatting, case building, word" },
                    { title: "Tabroom", desc: "The official NSDA repository for tournament registration and balloting history. Essential for tracking circuit standings and research shifts.", link: "https://www.tabroom.com/", type: "external", icon: "fas fa-list", keywords: "registration, tournament, brackets, judging, nsda" },
                    { title: "HS Policy Wiki", desc: "Meta-repository where teams disclose evidence. Research opponent strategies and find the latest offensive positions.", link: "https://hspolicy.debatecoaches.org/", type: "external", icon: "fas fa-globe", keywords: "disclosure, policy, evidence, scouting, history" },
                    { title: "LD Wiki", desc: "National circuit LD evidence repository. View previous rounds and full citations from top-tier competitors.", link: "https://hsld.debatecoaches.org/", type: "external", icon: "fas fa-history", keywords: "ld wiki, lincoln douglas, scouting" }
                ]
            },
            {
                title: "Prep Tools",
                bgColor: "bg-white-pure",
                resources: [
                    { title: "Auto Flow Generator", desc: "proprietary Debate 101 tool for converting Cases into Excel Flow templates. Optimized for in-round speed and focus.", link: "#autoflow", type: "internal", icon: "fas fa-file-excel", keywords: "excel, flow, automated, spreadsheet" },
                    { title: "Resolution AI", desc: "Elite synthesis engine for high-level resolution analysis. Map offensive paths and framework clashes instantly.", link: "#tools", type: "internal", icon: "fas fa-robot", keywords: "ai, strategist, analysis, resolution, intelligence" },
                    { title: "Flow.tg", desc: "Cloud-based digital flowing platform. Supports collaborative notation and technical clarity.", link: "https://flow.tg/", type: "external", icon: "fas fa-feather", keywords: "digital flow, cloud, sync, collab" }
                ]
            },
            {
                title: "Critical & Phil Hub",
                bgColor: "bg-pastel-navy",
                resources: [
                    { title: "Stanford Encyclopedia", desc: "The definitive standard for philosophical framework research. Peer-reviewed entries on every framework and critical concept used in forensics.", link: "https://plato.stanford.edu/", type: "external", icon: "fas fa-landmark", keywords: "phil, philosophy, SEP, scholar, framework, kant, ethics" },
                    { title: "PhilPapers", desc: "Comprehensive directory of philosophical literature. Essential for finding niche primary sources for K-Aff or high-theory research.", link: "https://philpapers.org/", type: "external", icon: "fas fa-balance-scale", keywords: "phil, papers, critical research, scholarship, archive" }
                ]
            }
        ];

        const teamData = [
            {
                name: "Vivaan Shahani",
                role: "CoFounder - Head of Web Development & Tool Creation",
                image: "assets/vivaan.png",
                blurb: "Strategic visionary architecting the intersection of economics, technology, and competitive debate.",
                depth: "Vivaan Shahani is a high-achieving scholar (Class of 2028) operating at the intersection of economics, technology, and strategic communication. With a 3.98 GPA and a rigorous academic profile including AP Computer Science and AP European History, Vivaan does not simply study complex systems—he analyzes and engineers them. His technical proficiency in Java, Python, and Swift is complemented by a sharp financial acumen, demonstrated through active technical analysis on TradingView and a deep engagement with macroeconomic theory. Beyond the classroom, Vivaan is a proven leader and entrepreneur. As a Varsity Representative for the Edgemont Debate Team and a National Quarterfinalist, he has mastered the art of synthesizing complex geopolitical data into persuasive arguments under extreme pressure—skills honed further as a Harvard Debate Council Summer Scholar. This strategic mindset extends to his business ventures; he co-founded Solarflare Robotics, leading critical outreach and fundraising efforts to build a sustainable organization, and established his own tutoring and retail businesses, proving his ability to execute ideas from concept to revenue. Vivaan’s drive is matched by a diverse range of creative and physical disciplines. He is a multifaceted creative—a jazz saxophonist competing at the National Jazz Festival, a professional DJ mixing Bollywood and Pop, and an independent journalist with over 15,000 reads on Medium. This versatility is grounded by the discipline of a Varsity Lacrosse defender and a Junior Black Belt in Taekwondo. Whether engineering a 3D printing curriculum for students or analyzing market trends, Vivaan brings a unique blend of logic, creativity, and relentless work ethic to every pursuit."
            },
            {
                name: "Max Feinstein",
                role: "CoFounder - Head of Media Management and Analysis",
                image: "assets/max-f.png",
                blurb: "A specialist in postmodern literature and critical methodology, redefining competitive discourse through methodological rigor.",
                depth: "About me: My name is Max Feinstein, and I am a freshman at The Altamont School in Birmingham, Alabama. This is my third year of debate and my first year competing fully on the national-circuit. Debate is my primary academic interest, and I enjoy rounds where I learn new things. Subjectivity shift is real! Outside of debate, I play ECNL and varsity soccer for Altamont (Go Knights!) and have been playing piano, electric guitar, and acoustic guitar for quite a while. I enjoy reading extensively in both philosophy and other literature such as The Picture of Dorian Gray or East of Eden etc, and am an avid NBA fan—especially of the San Antonio Spurs. I value collaborative learning environments and enjoy working with teammates and friends to create new arguments and strategies. Debate Background & Argument Interests: I specialize primarily in Kritikal debate and am most comfortable engaging with postmodern literature. This season, my argument interests has been on Neoliberal logistics, Baudrillard, Nietzsche, Lacan, and Jung. I read planless affirmatives, though I am also comfortable in debating all styles. Strategically, I am drawn to arguments that emphasize methodological and ideological evaluation, framing disputes, and real impact calculus with different weighing metric indicts rather than purely empirical cost-benefit analysis. Argument preferences (how I can best help teach you) (1 = most comfortable to teach // 5 = least comfortable to teach): 1—Kritiks, K affs, PIKs, Spark, Wipeout, K tricks (this is super underutilized), and other unconventional and unique arguments. 2—PICs, Phil, S/V, Tricks. 3—Counterplans (other), Policy, Disads. 4—Theory and procedurals. 5—Lay debate (I can assist, but others like Max M or Vivaan may be better suited). Email me at feinsteinm29@altamontschool.org"
            },
            {
                name: "Max McBride",
                role: "CoFounder - Head of Community Building and Outreach",
                image: "assets/max-m.jpg",
                blurb: "Specialist in geopolitical resolutions and empirical evidence analysis.",
                depth: "Max McBride brings deep analytical rigor to the collective's research foundation. He focuses on post-fiat implications and systemic violence literature."
            },
            {
                name: "Arjun Gupta",
                role: "CoFounder - Head of Lecture Creation & Debate Analysis",
                image: "assets/arjun.png",
                blurb: "Lead analyst for K-Aff argumentation and critical literature.",
                depth: "Arjun Gupta manages high-level lecture creation, ensuring that complex critical theory is simplified for the community."
            }
        ];

        let chatHistoryRes = [];
        let chatHistoryFaq = [];

        function initHub() {
            const container = document.getElementById('resource-hub-container');
            if (!container) return;
            container.innerHTML = resourceCategories.map((cat) => `
                <div class="resource-category-section ${cat.bgColor} -mx-12 px-12 py-2 border-y border-gray-50">
                    <h3 class="mck-serif text-lg text-[#051C2C] mb-2 border-b border-gray-200 pb-1">${cat.title}</h3>
                    <div class="carousel-container">
                        ${cat.resources.map(res => `
                            <a href="${res.link}" target="${res.type === 'internal' ? '_self' : '_blank'}" class="carousel-card ${res.type === 'internal' ? 'accent-blue' : 'accent-gray'} resource-item-card resource-hub-card" data-title="${res.title}" data-desc="${res.desc}" data-keywords="${res.keywords || ''}" ${res.type === 'internal' ? `onclick="showPage('${res.link.replace('#','')}')"` : ''}>
                                <div class="flex justify-between items-start">
                                    <div>
                                        <span class="res-label ${res.type === 'internal' ? 'label-internal' : 'label-external'}">${res.type}</span>
                                        <span class="text-[11px] block mt-1 font-bold uppercase tracking-widest text-[#051C2C]">${res.title}</span>
                                    </div>
                                    <i class="${res.icon} text-blue-100 text-lg"></i>
                                </div>
                                <p class="text-[11px] text-gray-500 leading-tight mt-1 line-clamp-3">${res.desc}</p>
                                <div class="flex justify-between items-center mt-auto">
                                    <span class="text-[8px] font-bold uppercase tracking-widest text-gray-400">Access</span>
                                    <i class="fas fa-arrow-right arrow-icon"></i>
                                </div>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function filterResources() {
            const query = document.getElementById('resource-search').value.toLowerCase();
            document.querySelectorAll('.resource-item-card').forEach(card => {
                const searchStr = (card.getAttribute('data-title') + card.getAttribute('data-desc') + card.getAttribute('data-keywords')).toLowerCase();
                card.style.display = searchStr.includes(query) ? 'flex' : 'none';
            });
            document.querySelectorAll('.resource-category-section').forEach(sec => {
                sec.style.display = Array.from(sec.querySelectorAll('.resource-item-card')).some(c => c.style.display === 'flex') ? 'block' : 'none';
            });
        }

        function initFaq() {
            const list = document.getElementById('faq-list');
            if (!list) return;
            const faqContent = [
                { q: "What is Lincoln-Douglas (LD) debate?", a: "LD is a one-on-one debate format focusing on philosophical values and criteria. It traditionally clashes on moral imperatives, though modern 'circuit' LD includes policy-style plans and kritiks." },
                { q: "What is Policy debate?", a: "Policy debate involves two-on-two teams debating a government's course of action. It is highly technical, evidence-intensive, and focuses on pragmatism and structural outcomes." },
                { q: "What is a 'flow' in debate?", a: "Flowing is the specialized form of note-taking used by debaters to track the evolution of every argument throughout a round, usually organized in columns by speech." }
            ];
            list.innerHTML = faqContent.map((item) => `
                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        <span class="text-sm font-bold uppercase tracking-widest text-[#051C2C]">${item.q}</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer"><p class="text-sm text-gray-600">${item.a}</p></div>
                </div>
            `).join('');
        }

        function initTeam() {
            const grid = document.getElementById('team-grid');
            if (!grid) return;
            grid.innerHTML = teamData.map((member, index) => `
                <div class="team-card py-12 px-2">
                    <img src="${member.image}" alt="${member.name}" class="profile-img" onerror="this.src='https://via.placeholder.com/600/051C2C/FFFFFF?text=${member.name}'">
                    <span class="text-[#0072b1] text-[10px] font-bold uppercase tracking-[0.3em]">${member.role}</span>
                    <h3 class="mck-serif text-3xl text-[#051C2C] mt-4 mb-4">${member.name}</h3>
                    <p class="text-gray-500 mb-8 leading-relaxed max-w-md italic">${member.blurb}</p>
                    <button onclick="toggleDepth(${index})" class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Full Profile +</button>
                    <div id="depth-${index}" class="expand-content"><div class="py-8 text-gray-600 text-sm leading-relaxed border-t mt-6">${member.depth}</div></div>
                </div>
            `).join('');
        }

        function toggleDepth(index) { document.getElementById(`depth-${index}`).classList.toggle('active'); }

        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(p => p.classList.add('hidden'));
            const target = document.getElementById(`page-${pageId}`);
            if (target) {
                target.classList.remove('hidden');
                if (history.pushState) history.pushState(null, null, '#' + pageId);
                else location.hash = '#' + pageId;
            }
            const menuOverlay = document.getElementById('mobile-menu-overlay');
            if (menuOverlay.classList.contains('active')) toggleMobileMenu();
            window.scrollTo({top: 0, behavior: 'smooth'});
            if (pageId === 'team') initTeam();
            if (pageId === 'faq') initFaq();
            if (pageId === 'hub') initHub();
        }

        window.onpopstate = function() {
            const hash = location.hash.replace('#', '') || 'home';
            showPage(hash);
        };

        async function analyzeTopic(type) {
            const inputId = type === 'res' ? 'resolution-input' : 'faq-input';
            const msgId = type === 'res' ? 'chat-messages-res' : 'chat-messages-faq';
            const loadingId = type === 'res' ? 'chat-loading-res' : 'chat-loading-faq';
            const historyStore = type === 'res' ? chatHistoryRes : chatHistoryFaq;
            const inputField = document.getElementById(inputId);
            const rawInput = inputField.value.trim();
            if (!rawInput) return;
            const loading = document.getElementById(loadingId);
            const apiKey = "AIzaSyCBdioRfiPelbQi1tgBJQG6qt9fg3PdiJE"; 
            appendMessage(type === 'res' ? 'user' : 'user-faq', rawInput, msgId);
            inputField.value = ""; loading.classList.remove('hidden');
            historyStore.push({ role: "user", parts: [{ text: rawInput }] });
            const prompt = type === 'res' ? "Lead Strategist style." : "Debate Mentor style.";
            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const response = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: historyStore, systemInstruction: { parts: [{ text: prompt }] } }) });
                const result = await response.json();
                const aiText = result.candidates?.[0]?.content?.parts?.[0]?.text || "Error.";
                historyStore.push({ role: "model", parts: [{ text: aiText }] });
                appendMessage(type === 'res' ? 'architect' : 'mentor', aiText, msgId);
            } catch (e) { appendMessage(type === 'res' ? 'architect' : 'mentor', "Connection Error.", msgId); }
            finally { loading.classList.add('hidden'); }
        }

        function appendMessage(role, text, containerId) {
            const container = document.getElementById(containerId);
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${role.includes('user') ? 'message-user' : 'message-architect'}`;
            msgDiv.innerHTML = `<div class="ai-content">${text}</div>`;
            container.appendChild(msgDiv); container.scrollTop = container.scrollHeight;
        }

        function formatAiResponse(text) {
            if (text.includes('<p>')) return text;
            return text.split('\n\n').map(block => {
                const lines = block.split('\n');
                if (lines[0].match(/^\d+\.?\s*[A-Z\s]+$/)) return `<div class="mb-6"><h4>${lines.shift()}</h4>${lines.join('<br>')}</div>`;
                return `<p>${block}</p>`;
            }).join('');
        }

        // AUTO-FLOW LOGIC WITH NEG MODE TAB SPLITTING
        document.getElementById('docx-input').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const status = document.getElementById('flow-status');
            const isNegMode = document.getElementById('flow-mode-switch').checked;
            status.innerText = "Extracting Verbatim protocols...";

            const reader = new FileReader();
            reader.onload = async (event) => {
                try {
                    const options = { styleMap: ["p[style-name='Heading 2'] => h2:fresh", "p[style-name='Heading 4'] => h4:fresh", "p[style-name='Tag'] => h4:fresh", "p[style-name='Cite'] => p.cite:fresh"] };
                    const result = await mammoth.convertToHtml({ arrayBuffer: event.target.result }, options);
                    const parser = new DOMParser();
                    const htmlDoc = parser.parseFromString(result.value, 'text/html');
                    const elements = Array.from(htmlDoc.querySelectorAll('h2, h4, p'));
                    
                    const wb = XLSX.utils.book_new();
                    const affHeaders = ["1AC", "1NC", "1AR", "2NR", "2AR"];
                    const negHeaders = ["1NC", "1AR", "2NR", "2AR"];
                    const headers = isNegMode ? negHeaders : affHeaders;

                    let currentSheetData = [headers];
                    let currentSheetName = "Flow";
                    let usedSheetNames = new Set();

                    function getUniqueName(name) {
                        let clean = (name || "Sheet").trim().replace(/[:\\\/\?\*\[\]]/g, "").substring(0, 25);
                        if (!clean) clean = "Argument";
                        let finalName = clean;
                        let count = 2;
                        while (usedSheetNames.has(finalName)) {
                            finalName = `${clean} (${count})`;
                            count++;
                        }
                        usedSheetNames.add(finalName);
                        return finalName;
                    }

                    for (let i = 0; i < elements.length; i++) {
                        const el = elements[i];
                        
                        if (isNegMode && el.tagName === 'H2') {
                            if (currentSheetData.length > 1) {
                                const ws = XLSX.utils.aoa_to_sheet(currentSheetData);
                                styleWorksheet(ws);
                                XLSX.utils.book_append_sheet(wb, ws, getUniqueName(currentSheetName));
                            }
                            currentSheetName = el.innerText.trim();
                            currentSheetData = [headers];
                            continue;
                        }

                        if (el.tagName === 'H4' && el.innerText.trim()) {
                            let dt = el.innerText.trim();
                            if (i + 1 < elements.length && (elements[i+1].classList.contains('cite') || elements[i+1].innerText.match(/\b[A-Z][a-z]+.* (\d{2}|\d{4})\b/))) {
                                dt += ` (${elements[i+1].innerText.trim()})`; i++;
                            }
                            currentSheetData.push([dt]); currentSheetData.push([]);
                        }
                    }

                    const finalWs = XLSX.utils.aoa_to_sheet(currentSheetData);
                    styleWorksheet(finalWs);
                    XLSX.utils.book_append_sheet(wb, finalWs, getUniqueName(currentSheetName));

                    XLSX.writeFile(wb, file.name.replace('.docx', '_FLOW.xlsx'));
                    status.innerText = "Success: Flow generated.";
                } catch (err) { status.innerText = "Error: Fail."; console.error(err); }
            };
            reader.readAsArrayBuffer(file);
        });

        function styleWorksheet(ws) {
            ws['!cols'] = [{ wch: 70 }, { wch: 70 }, { wch: 70 }, { wch: 70 }, { wch: 70 }];
            const hdrStyle = { font: { bold: true }, fill: { fgColor: { rgb: "D3D3D3" } }, alignment: { horizontal: "center" } };
            const affStyle = { fill: { fgColor: { rgb: "E7F3FF" } }, alignment: { wrapText: true, vertical: "top" } };
            for (let z in ws) {
                if (z[0] === '!') continue;
                if (z.substring(1) === '1') ws[z].s = hdrStyle;
                else if (['A', 'C', 'E'].includes(z[0])) ws[z].s = affStyle;
                else ws[z].s = { alignment: { wrapText: true, vertical: "top" } };
            }
        }

        window.onload = () => { 
            const initialHash = location.hash.replace('#', '') || 'home';
            showPage(initialHash); initTeam(); initFaq(); initHub();
        };
    </script>
</body>
</html>