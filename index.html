<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debate 101 | Open Source Discourse</title>
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="assets/logo.PNG">
    <!-- Tailwind CSS for layout -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');

        :root {
            --mck-blue: #051C2C;
            --mck-accent: #0072b1;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: #1a1a1a;
            scroll-behavior: smooth;
        }

        .mck-serif {
            font-family: 'Playfair Display', serif;
        }

        .nav-scrolled {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.05);
        }

        /* Animated Mesh Gradient for Hero */
        .hero-mesh {
            background-color: #ffffff;
            background-image: 
                radial-gradient(at 0% 0%, hsla(203,100%,96%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(201,100%,94%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(199,100%,92%,1) 0, transparent 50%);
            background-size: 200% 200%;
            animation: meshGradient 15s ease infinite;
        }

        @keyframes meshGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .team-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-top: 1px solid #e5e5e5;
        }

        .team-card:hover {
            border-top-color: var(--mck-accent);
            background-color: #fcfcfc;
        }

        .expand-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out;
        }

        .expand-content.active {
            max-height: 1200px;
        }

        .btn-mck {
            background-color: var(--mck-blue);
            transition: all 0.3s ease;
        }

        .btn-mck:hover {
            background-color: var(--mck-accent);
            letter-spacing: 0.5px;
        }

        /* View transitions */
        .page-view {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .profile-img {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            filter: grayscale(100%);
            transition: filter 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .team-card:hover .profile-img {
            filter: grayscale(0%);
        }

        /* Tool & Chat styling */
        .chat-container {
            height: 500px;
            display: flex;
            flex-direction: column;
            border: 1px solid #e5e5e5;
            background: white;
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            scroll-behavior: smooth;
        }

        .message {
            max-width: 85%;
            padding: 1.25rem;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        .message-user {
            align-self: flex-end;
            background: #f8fafc;
            border-right: 3px solid var(--mck-accent);
            color: var(--mck-blue);
            font-weight: 500;
        }

        .message-architect {
            align-self: flex-start;
            background: white;
            border-left: 3px solid var(--mck-blue);
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }

        .chat-input-area {
            border-top: 1px solid #eee;
            padding: 1rem;
            background: #fcfcfc;
        }

        .chat-scroll-hide::-webkit-scrollbar {
            width: 6px;
        }
        .chat-scroll-hide::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 10px;
        }
    </style>
</head>
<body class="bg-white">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 px-6 py-5 md:px-12">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <img src="assets/logo.PNG" alt="Logo" class="h-10 w-auto">
                <button onclick="showPage('home')" class="text-2xl font-bold tracking-tighter text-[#051C2C] focus:outline-none">
                    DEBATE<span class="font-light">101</span>
                </button>
            </div>
            
            <div class="hidden md:flex space-x-10 text-[10px] font-bold uppercase tracking-[0.2em] text-[#051C2C]">
                <button onclick="showPage('home')" class="hover:text-[#0072b1] transition-colors">Insights</button>
                <button onclick="showPage('team')" class="hover:text-[#0072b1] transition-colors">Our Team</button>
                <button onclick="showPage('tools')" class="hover:text-[#0072b1] transition-colors">Tools</button>
                <button onclick="scrollToGoals()" class="hover:text-[#0072b1] transition-colors">Roadmap</button>
                <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="hover:text-[#0072b1] transition-colors">Discord</a>
                <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="hover:text-[#0072b1] transition-colors">Instagram</a>
            </div>

            <button class="md:hidden text-[#051C2C]"><i class="fas fa-bars text-xl"></i></button>
        </div>
    </nav>

    <!-- Page: Home -->
    <main id="page-home" class="page-view pt-16">
        <section class="min-h-[85vh] flex items-center px-6 md:px-12 hero-mesh">
            <div class="max-w-5xl mx-auto w-full relative z-10">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-8">Building the Discourse of Tomorrow</h2>
                <h1 class="mck-serif text-5xl md:text-8xl text-[#051C2C] leading-[1.1] mb-10">
                    Reshaping <span class="italic font-normal text-[#0072b1]">competitive</span> debate through <span class="text-[#051C2C]">open source</span> rigor.
                </h1>
                <p class="text-xl md:text-2xl text-gray-500 max-w-3xl mb-12 leading-relaxed font-light">
                    Debate 101 is an unincorporated non-profit collective bridging the gap between novice learners and elite competition through tools, community, and strategy.
                </p>
                <div class="flex flex-col sm:flex-row gap-6">
                    <button onclick="showPage('tools')" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px]">Try AI Strategist</button>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="border border-gray-200 text-[#051C2C] px-12 py-5 font-bold uppercase tracking-widest text-[10px] text-center hover:bg-gray-50 transition-all">Join Discord</a>
                </div>
            </div>
        </section>

        <!-- Roadmap Section -->
        <section id="roadmap" class="bg-[#051C2C] text-white py-32 px-6 md:px-12">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                    <h2 class="mck-serif text-4xl md:text-6xl">Long-term vision for LD Unity.</h2>
                    <p class="text-gray-400 max-w-sm text-sm leading-relaxed">Advancing from LD-focused roots to the broader high school debate circuit, integrating experts across all formats.</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-16">
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">INFRASTRUCTURE</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">AI Wiki Mining</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Developing an updated version of tools like Logos—AI powered, constantly updated, and built for the 2026 circuit.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">EDUCATION</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">The Lecture Lab</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">A dedicated YouTube channel hosting round analysis, philosophy lectures, and technical breakdowns from champions.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">COMMUNITY</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">Real-time Support</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Our Discord serves as a hub for practice debates, community Q&A, and cross-format collaboration.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Page: Tools -->
    <main id="page-tools" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Lab</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Architect AI</h1>
                <p class="text-gray-500 max-w-2xl text-base font-light leading-relaxed">
                    Collaborate with our strategic engine to break down resolutions, refine frameworks, and map offensive paths. Start by entering a resolution or asking a question.
                </p>
            </div>

            <!-- Chat UI -->
            <div class="chat-container max-w-5xl shadow-2xl rounded-sm overflow-hidden">
                <div id="chat-messages" class="chat-messages chat-scroll-hide">
                    <div class="message message-architect">
                        <p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Architect AI</p>
                        <p>Welcome to the Lab. Enter a resolution below to begin our strategic analysis.</p>
                    </div>
                </div>
                
                <div id="chat-loading" class="px-8 py-2 hidden">
                    <div class="flex items-center space-x-3">
                        <div class="animate-pulse flex space-x-1">
                            <div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div>
                            <div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div>
                            <div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div>
                        </div>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1]">Architect is processing...</span>
                    </div>
                </div>

                <div class="chat-input-area">
                    <div class="flex gap-4">
                        <input type="text" id="resolution-input" 
                               placeholder="Enter resolution or follow-up question..." 
                               onkeypress="if(event.key === 'Enter') analyzeTopic()"
                               class="flex-grow p-4 bg-white border border-gray-200 focus:border-[#0072b1] outline-none text-sm transition-all">
                        <button onclick="analyzeTopic()" id="analyze-btn" class="btn-mck text-white px-8 py-4 font-bold uppercase tracking-widest text-[10px]">
                            Send
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Team -->
    <main id="page-team" class="page-view hidden pt-32 px-6 md:px-12 pb-32">
        <div class="max-w-7xl mx-auto">
            <div class="mb-24 text-center md:text-left">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-6">Leadership</h2>
                <h1 class="mck-serif text-6xl md:text-7xl text-[#051C2C]">The Architects.</h1>
            </div>
            <div id="team-grid" class="grid md:grid-cols-2 lg:grid-cols-2 gap-x-20 gap-y-20">
                <!-- Data injected via JS -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-100 py-20 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-start gap-12">
                <div class="flex items-center space-x-3">
                    <img src="assets/logo.PNG" alt="Logo" class="h-8 w-auto">
                    <div class="text-2xl font-bold tracking-tighter text-[#051C2C]">DEBATE<span class="font-light">101</span></div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-12">
                    <div class="flex flex-col space-y-4">
                        <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Social</span>
                        <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="text-sm hover:text-[#0072b1]">Instagram</a>
                        <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="text-sm hover:text-[#0072b1]">Discord</a>
                    </div>
                    <div class="flex flex-col space-y-4">
                        <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Resource</span>
                        <a href="#" onclick="showPage('tools')" class="text-sm hover:text-[#0072b1]">Wiki Miner (AI)</a>
                        <a href="#" class="text-sm hover:text-[#0072b1]">Lecture Library</a>
                    </div>
                </div>
            </div>
            <div class="mt-20 pt-10 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-400 uppercase tracking-[0.2em] font-bold">
                <p>© 2026 DEBATE 101 COLLECTIVE</p>
            </div>
        </div>
    </footer>

    <script>
        const teamData = [
            {
                name: "Vivaan Shahani",
                role: "Web Development & Community Building",
                image: "assets/vivaan.png",
                blurb: "A LD Debater from Edgemont High School.",
                depth: "Vivaan Shahani is a high-achieving scholar (Class of 2028) operating at the intersection of economics, technology, and strategic communication. With a 3.98 GPA and a rigorous academic profile including AP Computer Science and AP European History, Vivaan does not simply study complex systems—he analyzes and engineers them. His technical proficiency in Java, Python, and Swift is complemented by a sharp financial acumen, demonstrated through active technical analysis on TradingView and a deep engagement with macroeconomic theory.<br><br>Beyond the classroom, Vivaan is a proven leader and entrepreneur. As a Varsity Representative for the Edgemont Debate Team and a National Quarterfinalist, he has mastered the art of synthesizing complex geopolitical data into persuasive arguments under extreme pressure—skills honed further as a Harvard Debate Council Summer Scholar. This strategic mindset extends to his business ventures; he co-founded Solarflare Robotics, leading critical outreach and fundraising efforts to build a sustainable organization, and established his own tutoring and retail businesses, proving his ability to execute ideas from concept to revenue.<br><br>Vivaan’s drive is matched by a diverse range of creative and physical disciplines. He is a multifaceted creative—a jazz saxophonist competing at the National Jazz Festival, a professional DJ mixing Bollywood and Pop, and an independent journalist with over 15,000 reads on Medium. This versatility is grounded by the discipline of a Varsity Lacrosse defender and a Junior Black Belt in Taekwondo. Whether engineering a 3D printing curriculum for students or analyzing market trends, Vivaan brings a unique blend of logic, creativity, and relentless work ethic to every pursuit."
            },
            {
                name: "Max McBride",
                role: "Policy & Analysis",
                image: "assets/max-m.jpg",
                blurb: "Specialist in geopolitical resolutions and empirical evidence analysis.",
                depth: "Max oversees policy content. He specializes in breaking down complex structural violence impacts and managing research archives."
            },
            {
                name: "Max Feinstein",
                role: "Technical Execution",
                image: "assets/max-f.jpg",
                blurb: "Expert in technical debate mechanics and speed/clarity optimization.",
                depth: "Max works on pedagogy, creating resources to help debaters master technical execution and leading practice initiatives in Discord."
            },
            {
                name: "Arjun Gupta",
                role: "Critical Theory",
                image: "assets/arjun.jpg",
                blurb: "Lead analyst for K-Aff argumentation and critical literature.",
                depth: "Arjun makes high-level critical theory accessible. He manages lectures on critical scholarship and an open-source position database."
            }
        ];

        // Persistent Chat History
        let chatHistory = [];

        function initTeam() {
            const grid = document.getElementById('team-grid');
            if (!grid) return;
            grid.innerHTML = teamData.map((member, index) => `
                <div class="team-card py-12 px-2">
                    <img src="${member.image}" alt="${member.name}" class="profile-img" onerror="this.src='https://via.placeholder.com/600/051C2C/FFFFFF?text=${member.name}'">
                    <span class="text-[#0072b1] text-[10px] font-bold uppercase tracking-[0.3em]">${member.role}</span>
                    <h3 class="mck-serif text-3xl text-[#051C2C] mt-4 mb-4">${member.name}</h3>
                    <p class="text-gray-500 mb-8 leading-relaxed max-w-md italic">${member.blurb}</p>
                    <button onclick="toggleDepth(${index})" class="group flex items-center text-[#051C2C] text-[10px] font-bold uppercase tracking-widest focus:outline-none">
                        <span class="mr-3">Full Profile</span>
                        <div class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center group-hover:bg-[#051C2C] group-hover:text-white transition-all">
                            <i class="fas fa-plus text-[8px] transition-transform" id="icon-${index}"></i>
                        </div>
                    </button>
                    <div id="depth-${index}" class="expand-content">
                        <div class="py-8 text-gray-600 text-sm leading-relaxed max-w-lg">${member.depth}</div>
                    </div>
                </div>
            `).join('');
        }

        function toggleDepth(index) {
            const content = document.getElementById(`depth-${index}`);
            const icon = document.getElementById(`icon-${index}`);
            content.classList.toggle('active');
            icon.style.transform = content.classList.contains('active') ? 'rotate(45deg)' : 'rotate(0deg)';
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(p => p.classList.add('hidden'));
            const target = document.getElementById(`page-${pageId}`);
            if (target) {
                target.classList.remove('hidden');
            }
            window.scrollTo({top: 0, behavior: 'smooth'});
            if (pageId === 'team') initTeam();
        }

        function scrollToGoals() {
            showPage('home');
            setTimeout(() => {
                const element = document.getElementById('roadmap');
                if (element) element.scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }

        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 40) nav.classList.add('nav-scrolled');
            else nav.classList.remove('nav-scrolled');
        });

        // Chat Formatting Logic
        function formatAiResponse(text) {
            return text.split('\n').map(line => {
                const trimmed = line.trim();
                if (!trimmed) return "";
                // Formatting headers
                if (trimmed.match(/^\d+\.\s+[A-Z\s]+$/) || trimmed.match(/^[A-Z\s]{8,}$/)) {
                    return `<h4 class="text-[10px] font-bold uppercase tracking-[0.2em] text-[#0072b1] mt-6 mb-3">${trimmed}</h4>`;
                }
                // Bullet points
                if (trimmed.startsWith('- ') || trimmed.startsWith('* ')) {
                    return `<li class="ml-4 mb-2 list-none border-l-2 border-gray-100 pl-3">${trimmed.substring(2)}</li>`;
                }
                return `<p class="mb-3 text-gray-700">${trimmed}</p>`;
            }).join('');
        }

        function appendMessage(role, text) {
            const container = document.getElementById('chat-messages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${role === 'user' ? 'message-user' : 'message-architect'}`;
            
            const header = document.createElement('p');
            header.className = "text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60";
            header.innerText = role === 'user' ? 'Direct Query' : 'Architect AI';
            
            const body = document.createElement('div');
            body.innerHTML = role === 'user' ? text : formatAiResponse(text);
            
            msgDiv.appendChild(header);
            msgDiv.appendChild(body);
            container.appendChild(msgDiv);
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }

        // AI Tool Logic
        async function analyzeTopic() {
            const inputField = document.getElementById('resolution-input');
            const rawInput = inputField.value.trim();
            if (!rawInput) return;

            const btn = document.getElementById('analyze-btn');
            const loading = document.getElementById('chat-loading');

            // UI State
            appendMessage('user', rawInput);
            inputField.value = "";
            btn.disabled = true;
            loading.classList.remove('hidden');

            const apiKey = ""; 
            const systemPrompt = "You are the Lead Strategist at Debate 101, an elite architectural lab for competitive discourse. Your tone is professional, analytical, and authoritative (McKinsey style). Provide high-level strategic insights for LD and Policy debate resolutions. Keep track of the conversation history to answer follow-up questions accurately. Do not use markdown like **; use clean text.";

            // Maintain context
            chatHistory.push({ role: "user", parts: [{ text: rawInput }] });

            const fetchContent = async (url, options) => {
                const delays = [1000, 2000, 4000, 8000, 16000];
                for (let i = 0; i < 5; i++) {
                    try {
                        const response = await fetch(url, options);
                        if (response.ok) return await response.json();
                        throw new Error(`HTTP Error: ${response.status}`);
                    } catch (e) {
                        if (i === 4) throw e;
                        await new Promise(r => setTimeout(r, delays[i]));
                    }
                }
            };

            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const payload = {
                    contents: chatHistory,
                    systemInstruction: { parts: [{ text: systemPrompt }] }
                };

                const result = await fetchContent(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const aiResponseText = result.candidates?.[0]?.content?.parts?.[0]?.text;
                if (!aiResponseText) throw new Error("No response content");

                // Update History
                chatHistory.push({ role: "model", parts: [{ text: aiResponseText }] });
                
                // Truncate history if too long (token limit management)
                if (chatHistory.length > 10) chatHistory = chatHistory.slice(-10);

                appendMessage('architect', aiResponseText);
            } catch (error) {
                appendMessage('architect', "The lab is currently at peak capacity. Please join our Discord for immediate human support from the architects.");
            } finally {
                btn.disabled = false;
                loading.classList.add('hidden');
            }
        }

        window.onload = () => {
            initTeam();
        };
    </script>
</body>
</html>