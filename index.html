<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PRIMARY SEO TAGS -->
    <title>Debate 101 | Open Source Competitive Discourse & AI Tools</title>
    <meta name="description" content="Debate 101 is an open-source collective providing elite AI resolution analysis, Verbatim auto-flow tools, and the world's largest collection of debate resources.">
    <meta name="keywords" content="debate, LD debate, Policy debate, Lincoln Douglas, debate tools, resolution ai, verbatim, debate flow, high school debate, debate resources">
    <meta name="author" content="Debate 101 Collective">
    <link rel="canonical" href="https://debate101.org/">

    <!-- OPEN GRAPH / SOCIAL MEDIA SEO -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://debate101.org/">
    <meta property="og:title" content="Debate 101 | Architecting the Future of Discourse">
    <meta property="og:description" content="Access elite AI-driven strategy, automated flow generators, and the world's largest collection of debate tools.">
    <meta property="og:image" content="assets/logo.PNG">

    <!-- STRUCTURED DATA (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Debate 101",
      "url": "https://debate101.org",
      "logo": "https://debate101.org/assets/logo.PNG",
      "description": "An unincorporated non-profit collective bridging the gap between novice learners and elite competition through AI tools and community.",
      "founders": [
        { "@type": "Person", "name": "Vivaan Shahani" },
        { "@type": "Person", "name": "Max Feinstein" },
        { "@type": "Person", "name": "Max McBride" },
        { "@type": "Person", "name": "Arjun Gupta" }
      ]
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="assets/logo.PNG">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@1.2.0/dist/xlsx.bundle.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');

        :root {
            --mck-blue: #051C2C;
            --mck-accent: #0072b1;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: #1a1a1a;
            scroll-behavior: smooth;
        }

        .mck-serif {
            font-family: 'Playfair Display', serif;
        }

        .nav-scrolled {
            background: rgba(255, 255, 255, 0.98) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.05);
            padding-top: 1rem !important;
            padding-bottom: 1rem !important;
        }

        /* Wavy Background Animation */
        .hero-section {
            position: relative;
            overflow: hidden;
            background-color: white;
        }

        .wave-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.4;
            pointer-events: none;
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><path fill="%230072b1" fill-opacity="0.1" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-repeat: repeat-x;
            background-position: 0 bottom;
            animation: flow 20s linear infinite;
        }

        .wave2 {
            bottom: 10px;
            opacity: 0.5;
            animation: flow 15s linear infinite reverse;
        }

        @keyframes flow {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Carousel Section Styles */
        .carousel-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .carousel-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            gap: 16px;
            padding: 12px 0;
            scrollbar-width: none;
            scroll-behavior: smooth;
        }
        .carousel-container::-webkit-scrollbar { display: none; }

        .carousel-card {
            flex: 0 0 300px;
            background: white;
            padding: 20px;
            border: 1px solid #eee;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
        }

        .carousel-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(5, 28, 44, 0.06);
            border-color: transparent;
        }

        .carousel-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #eee;
            transition: background 0.3s ease;
        }

        .carousel-card.accent-blue::before { background: var(--mck-accent); }
        .carousel-card.accent-navy::before { background: var(--mck-blue); }
        .carousel-card.accent-gray::before { background: #d1d5db; }

        .carousel-card .arrow-icon {
            transition: all 0.4s ease;
            color: #ddd;
            font-size: 1rem;
        }

        .carousel-card:hover .arrow-icon {
            color: var(--mck-accent);
            transform: translateX(6px);
        }

        .system-tag {
            font-size: 8px;
            font-weight: 800;
            letter-spacing: 0.1em;
            color: #bbb;
            margin-bottom: 6px;
            display: block;
        }

        /* Navigation Arrows */
        .nav-arrow {
            position: absolute;
            z-index: 30;
            background: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #eee;
            color: var(--mck-blue);
        }
        .nav-arrow:hover {
            background: var(--mck-blue);
            color: white;
            border-color: var(--mck-blue);
        }
        .nav-arrow-left { left: -18px; }
        .nav-arrow-right { right: -18px; }

        @media (max-width: 768px) {
            .nav-arrow { display: none; }
        }

        /* Team Card Interactions */
        .team-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-top: 1px solid #e5e5e5;
        }

        .team-card:hover {
            border-top-color: var(--mck-accent);
            background-color: #fcfcfc;
        }

        .expand-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out;
        }

        .expand-content.active {
            max-height: 4000px;
        }

        .btn-mck {
            background-color: var(--mck-blue);
            transition: all 0.3s ease;
        }

        .btn-mck:hover {
            background-color: var(--mck-accent);
            letter-spacing: 0.5px;
        }

        /* View transitions */
        .page-view {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .profile-img {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            filter: grayscale(100%);
            transition: filter 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .team-card:hover .profile-img {
            filter: grayscale(0%);
        }

        /* Chat Styling */
        .chat-container {
            height: 600px;
            display: flex;
            flex-direction: column;
            border: 1px solid #e5e5e5;
            background: white;
            border-radius: 4px;
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            scroll-behavior: smooth;
            background-color: #fcfcfc;
        }

        .message {
            max-width: 85%;
            padding: 1.25rem;
            font-size: 0.875rem;
            line-height: 1.6;
            border-radius: 2px;
        }

        .message-user { align-self: flex-end; background: #f8fafc; border-right: 3px solid var(--mck-accent); color: var(--mck-blue); font-weight: 500; }
        .message-architect { align-self: flex-start; background: white; border-left: 3px solid var(--mck-blue); box-shadow: 0 4px 12px rgba(0,0,0,0.03); }

        .ai-content h4 { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--mck-accent); margin: 1.5rem 0 0.75rem 0; }
        .ai-content p { margin-bottom: 1rem; }
        .ai-content li { list-style-type: none; padding-left: 1.25rem; position: relative; margin-bottom: 0.5rem; }
        .ai-content li::before { content: "â€”"; position: absolute; left: 0; color: #ccc; }

        /* Dropdown Styling */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
            z-index: 100;
            border-top: 2px solid var(--mck-accent);
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content button {
            color: var(--mck-blue);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            width: 100%;
            text-align: left;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: background 0.2s;
        }

        .dropdown-content button:hover {
            background-color: #f1f1f1;
            color: var(--mck-accent);
        }

        /* Directorate Masthead */
        .directorate-bar {
            border-top: 1px solid rgba(0,0,0,0.05);
            margin-top: 0.75rem;
            padding-top: 0.75rem;
        }

        #mobile-menu-overlay { transition: opacity 0.3s ease, visibility 0.3s ease; opacity: 0; visibility: hidden; }
        #mobile-menu-overlay.active { opacity: 1; visibility: visible; }

        /* FAQ Styling */
        .faq-item {
            border-bottom: 1px solid #eee;
            padding: 1.25rem 0;
            transition: background 0.3s;
        }
        .faq-item:hover { background-color: #fafafa; }
        .faq-question {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            color: #666;
            line-height: 1.6;
        }
        .faq-item.active .faq-answer {
            max-height: 500px;
            padding-top: 1rem;
        }
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
        .faq-icon {
            transition: transform 0.3s ease;
            font-size: 0.75rem;
            color: var(--mck-accent);
        }

        /* Resource Label Styling */
        .res-label {
            font-size: 8px;
            font-weight: 800;
            padding: 2px 6px;
            border-radius: 2px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-left: 0;
            display: inline-block;
        }
        .label-internal { background: #e0f2fe; color: #0369a1; border: 1px solid #0369a1; }
        .label-external { background: #f3f4f6; color: #4b5563; border: 1px solid #d1d5db; }

        /* Compact Hub Layout - 1/8th margins */
        .resource-category-section {
            padding-top: 5px;
            padding-bottom: 5px;
            margin-bottom: 2px;
        }
        .hub-title {
            margin-bottom: 4px;
            font-size: 0.875rem;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        .resource-hub-card {
            min-height: 190px;
            height: 190px;
        }

        /* Toggle Switch UI */
        .switch-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; width: 18px;
            left: 3px; bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--mck-accent); }
        input:checked + .slider:before { transform: translateX(26px); }

        /* Search Styling */
        .search-bar-container {
            position: relative;
            max-width: 400px;
        }
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 0.875rem;
        }
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #e2e8f0;
            font-size: 0.875rem;
            outline: none;
            transition: all 0.3s ease;
            background: white;
        }
        .search-input:focus {
            border-color: var(--mck-accent);
            box-shadow: 0 0 0 4px rgba(0, 114, 177, 0.05);
        }

        /* Timer Specific UI */
        #timer-display {
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.05em;
        }
        .timer-btn {
            @apply border border-gray-200 px-6 py-3 text-[10px] font-bold uppercase tracking-widest transition-all;
        }
        .timer-btn:hover {
            @apply bg-gray-50 border-gray-400;
        }
        .timer-btn-active {
            @apply bg-[#051C2C] text-white border-[#051C2C];
        }
        .speech-item {
            @apply flex justify-between items-center p-3 cursor-pointer transition-all border-l-4 border-transparent;
        }
        .speech-item:hover {
            @apply bg-gray-50 border-gray-200;
        }
        .speech-item-active {
            @apply bg-blue-50 border-[#0072b1] opacity-100 !important;
        }

        /* Screw Calculator Visuals */
        .chart-bar {
            height: 24px;
            background: #f1f5f9;
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }
        .chart-bar-fill {
            height: 100%;
            background: #cbd5e1;
            transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .bubble-danger {
            background: #ef4444 !important;
        }

        .screw-input-group {
            @apply relative border-b border-gray-200 py-2 transition-all;
        }
        .screw-input-group:focus-within {
            @apply border-[#0072b1];
        }
        .screw-input-group label {
            @apply block text-[8px] font-bold uppercase tracking-widest text-gray-400 mb-1;
        }
        .screw-input-group input, .screw-input-group select {
            @apply w-full bg-transparent text-xl font-light outline-none text-[#051C2C];
        }
    </style>
</head>
<body class="bg-white">

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-white z-[60] flex flex-col px-6 py-8">
        <div class="flex justify-between items-center mb-12">
            <div class="flex items-center space-x-3">
                <img src="assets/logo.PNG" alt="Logo" class="h-10 w-auto" onerror="this.style.display='none'">
                <span class="text-2xl font-bold tracking-tighter text-[#051C2C]">DEBATE<span class="font-light">101</span></span>
            </div>
            <button onclick="toggleMobileMenu()" class="text-[#051C2C] text-2xl"><i class="fas fa-times"></i></button>
        </div>
        <div class="flex flex-col space-y-8 text-sm font-bold uppercase tracking-[0.2em] text-[#051C2C]">
            <button onclick="showPage('home')" class="text-left">Insights</button>
            <button onclick="showPage('team')" class="text-left">Our Team</button>
            <button onclick="showPage('hub')" class="text-left">Resources</button>
            <div class="flex flex-col space-y-4 ml-4">
                <span class="text-[10px] text-gray-400">Tools</span>
                <button onclick="showPage('timer')" class="text-left">Architect Timer</button>
                <button onclick="showPage('screw')" class="text-left">Screw Calculator</button>
                <button onclick="showPage('tools')" class="text-left">Resolution AI</button>
                <button onclick="showPage('autoflow')" class="text-left">Auto Flow Generator</button>
            </div>
            <button onclick="scrollToSection('roadmap')" class="text-left">Roadmap</button>
            <a href="https://discord.gg/Vgyt8MrW" target="_blank">Discord</a>
            <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank">Instagram</a>
        </div>
        <div class="mt-auto border-t pt-8">
            <p class="text-[10px] uppercase tracking-widest text-gray-400 font-bold mb-4">Lead Architects</p>
            <p class="text-xs text-gray-600">Vivaan S. // Max F. // Max M. // Arjun G.</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 px-6 py-5 md:px-12">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="assets/logo.PNG" alt="Logo" class="h-10 w-auto" onerror="this.style.display='none'">
                    <button onclick="showPage('home')" class="text-2xl font-bold tracking-tighter text-[#051C2C] focus:outline-none">
                        DEBATE<span class="font-light">101</span>
                    </button>
                </div>
                <div class="hidden md:flex space-x-10 text-[10px] font-bold uppercase tracking-[0.2em] text-[#051C2C] items-center">
                    <button onclick="showPage('home')" class="hover:text-[#0072b1] transition-colors">Insights</button>
                    <button onclick="showPage('team')" class="hover:text-[#0072b1] transition-colors">Our Team</button>
                    
                    <div class="dropdown">
                        <button class="hover:text-[#0072b1] transition-colors focus:outline-none flex items-center">
                            Resources <i class="fas fa-chevron-down ml-2 text-[8px]"></i>
                        </button>
                        <div class="dropdown-content">
                            <button onclick="showPage('hub')">Resource Hub</button>
                            <button onclick="showPage('faq')">FAQ</button>
                        </div>
                    </div>

                    <div class="dropdown">
                        <button class="hover:text-[#0072b1] transition-colors focus:outline-none flex items-center">
                            Tools <i class="fas fa-chevron-down ml-2 text-[8px]"></i>
                        </button>
                        <div class="dropdown-content">
                            <button onclick="showPage('timer')">Architect Timer</button>
                            <button onclick="showPage('screw')">Screw Calculator</button>
                            <button onclick="showPage('tools')">Resolution AI</button>
                            <button onclick="showPage('autoflow')">Auto Flow Generator</button>
                        </div>
                    </div>

                    <button onclick="scrollToSection('roadmap')" class="hover:text-[#0072b1] transition-colors">Roadmap</button>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="hover:text-[#0072b1] transition-colors">Discord</a>
                    <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="hover:text-[#0072b1] transition-colors">Instagram</a>
                    <button onclick="triggerGlobalSearch()" class="hover:text-[#0072b1] transition-colors ml-2"><i class="fas fa-search"></i></button>
                </div>
                <button onclick="toggleMobileMenu()" class="md:hidden text-[#051C2C]"><i class="fas fa-bars text-xl"></i></button>
            </div>
            <div class="hidden md:flex justify-end directorate-bar">
                <p class="text-[9px] font-bold uppercase tracking-[0.3em] text-gray-400">
                    Lead Architects: <span class="text-[#051C2C] ml-2">Vivaan S. | Max F. | Max M. | Arjun G.</span>
                </p>
            </div>
        </div>
    </nav>

    <!-- Page: Home -->
    <main id="page-home" class="page-view pt-16">
        <section class="min-h-[85vh] flex items-center px-6 md:px-12 hero-section">
            <div class="wave-container">
                <div class="wave"></div>
                <div class="wave wave2"></div>
            </div>
            <div class="max-w-5xl mx-auto w-full relative z-10 pt-12 md:pt-0">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-8">Building the Discourse of Tomorrow</h2>
                <h1 class="mck-serif text-5xl md:text-8xl text-[#051C2C] leading-[1.1] mb-10">
                    Reshaping <span class="italic font-normal text-[#0072b1]">competitive</span> debate through <span class="text-[#051C2C]">open source</span> rigor.
                </h1>
                <p class="text-xl md:text-2xl text-gray-500 max-w-3xl mb-12 leading-relaxed font-light">
                    Debate 101 is an unincorporated non-profit collective bridging the gap between novice learners and elite competition through tools, community, and strategy.
                </p>
                <div class="flex flex-col sm:flex-row gap-6">
                    <button onclick="showPage('autoflow')" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px]">Try Auto Flow Generator</button>
                    <button onclick="showPage('hub')" class="border border-[#051C2C] text-[#051C2C] px-12 py-5 font-bold uppercase tracking-widest text-[10px] hover:bg-[#051C2C] hover:text-white transition-all">Visit Global Resource Hub</button>
                    <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="border border-gray-200 text-[#051C2C] px-12 py-5 font-bold uppercase tracking-widest text-[10px] text-center hover:bg-gray-50 transition-all">Join Discord</a>
                </div>
            </div>
        </section>

        <!-- Roadmap -->
        <section id="roadmap" class="bg-[#051C2C] text-white py-32 px-6 md:px-12">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                    <h2 class="mck-serif text-4xl md:text-6xl">2026 Vision Map.</h2>
                    <p class="text-gray-400 max-w-sm text-sm leading-relaxed border-l border-gray-700 pl-6">Advancing LD-focused roots into a broader high school debate circuit ecosystem.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-16">
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest uppercase">Global Repository</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">World's Largest Resource Collection</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Building a living, exhaustive library of every verified tool, course, and research asset in competitive debate. This is our core accessibility mission.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">INFRASTRUCTURE</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">AI Wiki Mining</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Developing automated tools to mine circuit data for meta trends and argument patterns.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">EDUCATION</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">The Lecture Lab</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">A digital archive hosting high-level round analysis and technical breakdowns.</p>
                    </div>
                    <div class="border-t border-gray-800 pt-10">
                        <span class="text-[#0072b1] font-bold text-xs tracking-widest">COMMUNITY</span>
                        <h3 class="text-2xl font-light mt-6 mb-6">Real-time Support</h3>
                        <p class="text-gray-400 leading-relaxed text-sm">Discord hub for practice rounds, collaborator matching, and circuit-wide community engagement.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ecosystem Hub Carousel -->
        <section class="py-32 px-6 md:px-12 bg-gray-100 overflow-hidden">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Assets</h2>
                <h3 class="mck-serif text-4xl text-[#051C2C] mb-8">Ecosystem Hub</h3>
                <div class="carousel-wrapper">
                    <div class="nav-arrow nav-arrow-left" onclick="scrollCarousel('home-carousel', -320)"><i class="fas fa-chevron-left"></i></div>
                    <div id="home-carousel" class="carousel-container">
                        <div class="carousel-card accent-blue" onclick="showPage('timer')">
                            <div class="flex justify-between items-start">
                                <div><span class="system-tag">SYS_ID: TIME-01</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Architect Timer</span></div>
                                <i class="fas fa-stopwatch text-blue-100 text-2xl"></i>
                            </div>
                            <p class="text-gray-500 text-sm leading-relaxed mt-4">Precision tournament timer for LD, Policy, and PF. Integrated speech sequences and prep-tracking.</p>
                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[10px] font-bold uppercase tracking-widest text-blue-500">Live Tool</span>
                                <i class="fas fa-arrow-right arrow-icon"></i>
                            </div>
                        </div>
                        <div class="carousel-card accent-blue" onclick="showPage('screw')">
                            <div class="flex justify-between items-start">
                                <div><span class="system-tag">SYS_ID: CALC-04</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Screw Calculator</span></div>
                                <i class="fas fa-calculator text-blue-100 text-2xl"></i>
                            </div>
                            <p class="text-gray-500 text-sm leading-relaxed mt-4">Statistically project outround break points and "bubble" probabilities based on field entries.</p>
                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[10px] font-bold uppercase tracking-widest text-blue-500">New Tool</span>
                                <i class="fas fa-arrow-right arrow-icon"></i>
                            </div>
                        </div>
                        <div class="carousel-card accent-blue" onclick="showPage('tools')">
                            <div class="flex justify-between items-start">
                                <div><span class="system-tag">SYS_ID: RES-AI</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Resolution AI</span></div>
                                <i class="fas fa-robot text-blue-100 text-2xl"></i>
                            </div>
                            <p class="text-gray-500 text-sm leading-relaxed mt-4">Real-time strategic synthesis engine for resolution analysis and follow-up support.</p>
                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[10px] font-bold uppercase tracking-widest text-blue-500">Live Beta</span>
                                <i class="fas fa-arrow-right arrow-icon"></i>
                            </div>
                        </div>
                        <div class="carousel-card accent-navy" onclick="showPage('autoflow')">
                            <div class="flex justify-between items-start">
                                <div><span class="system-tag">SYS_ID: FLOW-02</span><span class="text-[11px] font-bold uppercase tracking-widest text-[#051C2C]">Auto Flow Generator</span></div>
                                <i class="fas fa-file-excel text-blue-100 text-2xl"></i>
                            </div>
                            <p class="text-gray-500 text-sm leading-relaxed mt-4">Instantly convert Verbatim cases into Excel flow templates with pure tag extraction.</p>
                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Try Now</span>
                                <i class="fas fa-arrow-right arrow-icon"></i>
                            </div>
                        </div>
                    </div>
                    <div class="nav-arrow nav-arrow-right" onclick="scrollCarousel('home-carousel', 320)"><i class="fas fa-chevron-right"></i></div>
                </div>
            </div>
        </section>

        <!-- Global Resource Hub Homepage Section -->
        <section class="py-32 px-6 md:px-12 bg-white">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row gap-16 items-center">
                <div class="md:w-1/2">
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-6">Universal Knowledge Base</h2>
                    <h3 class="mck-serif text-5xl md:text-6xl text-[#051C2C] leading-tight mb-8">The World's Largest <br><span class="italic font-normal text-[#0072b1]">Debate Resource Hub.</span></h3>
                    <p class="text-xl text-gray-500 font-light leading-relaxed mb-10">
                        Debate 101 is cataloging every essential tool, lecture, camp, and research asset in the international circuit. From specialized software like Verbatim to niche critical theory scholarly databases, our Global Hub provides debaters with an exhaustive ecosystem of strategic advantages.
                    </p>
                    <button onclick="showPage('hub')" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] hover:shadow-2xl transition-all">Explore Global Collection</button>
                </div>
                <div class="md:w-1/2 grid grid-cols-2 gap-4">
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-tools text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Strategic Tools</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-university text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Verified Camps</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-book-open text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Research Bases</span>
                    </div>
                    <div class="bg-gray-50 aspect-square flex flex-col items-center justify-center p-8 border border-gray-100">
                        <i class="fas fa-video text-3xl text-blue-200 mb-4"></i>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Lecture Vaults</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Who We Are -->
        <section class="py-32 px-6 md:px-12 bg-white border-t border-gray-50">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row gap-16 items-start">
                <div class="md:w-1/3">
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">The Collective</h2>
                    <h3 class="mck-serif text-4xl text-[#051C2C]">Who we are.</h3>
                </div>
                <div class="md:w-2/3">
                    <p class="text-xl text-gray-600 mb-12 font-light leading-relaxed">
                        Debate 101 is driven by a quartet of dedicated debaters and developers committed to scaling high-level discourse. We aren't just creating tools; we are architecting a sustainable learning ecosystem for the next generation of competitive thinkers.
                    </p>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12 text-[#051C2C]">
                        <div><p class="text-xs font-bold uppercase tracking-widest">Vivaan Shahani</p><p class="text-[10px] text-gray-400 uppercase mt-1">Web & Tool Lead</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Max Feinstein</p><p class="text-[10px] text-gray-400 uppercase mt-1">Media & Analysis</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Max McBride</p><p class="text-[10px] text-gray-400 uppercase mt-1">Community Lead</p></div>
                        <div><p class="text-xs font-bold uppercase tracking-widest">Arjun Gupta</p><p class="text-[10px] text-gray-400 uppercase mt-1">Lecture Lead</p></div>
                    </div>
                    <button onclick="showPage('team')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px]">Meet the team</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Page: Architect Timer -->
    <main id="page-timer" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-4xl mx-auto">
            <div class="mb-12 text-center">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Round Precision</h2>
                <h1 class="mck-serif text-6xl text-[#051C2C] mb-8">Architect Timer</h1>
                
                <div class="flex flex-col items-center gap-6 mb-12">
                    <div class="flex justify-center gap-4">
                        <button onclick="setTimerFormat('LD')" id="format-LD" class="timer-btn timer-btn-active">LD</button>
                        <button onclick="setTimerFormat('Policy')" id="format-Policy" class="timer-btn">Policy</button>
                        <button onclick="setTimerFormat('PF')" id="format-PF" class="timer-btn">PF</button>
                    </div>
                    
                    <div id="ld-settings" class="flex items-center gap-4">
                        <span class="text-[10px] font-bold uppercase tracking-widest text-gray-500">LD Prep Duration:</span>
                        <button onclick="setLDPrep(240)" id="ld-prep-240" class="border border-gray-200 px-4 py-2 text-[10px] font-bold rounded-sm timer-btn-active">4m</button>
                        <button onclick="setLDPrep(300)" id="ld-prep-300" class="border border-gray-200 px-4 py-2 text-[10px] font-bold rounded-sm">5m</button>
                    </div>
                </div>
            </div>

            <div class="bg-white p-12 shadow-2xl rounded-sm border border-gray-100 text-center">
                <div class="mb-4">
                    <span id="timer-stage-label" class="text-[10px] font-bold uppercase tracking-[0.3em] text-[#0072b1]">1AC (6:00)</span>
                </div>
                <div id="timer-display" class="text-[120px] md:text-[160px] font-light leading-none text-[#051C2C] mb-12">
                    06:00
                </div>

                <div class="flex flex-col md:flex-row justify-center gap-6">
                    <button id="timer-start-pause" onclick="toggleTimer()" class="btn-mck text-white px-16 py-6 text-xs font-bold uppercase tracking-widest rounded-sm">Start</button>
                    <button onclick="resetTimer()" class="border border-gray-200 text-[#051C2C] px-16 py-6 text-xs font-bold uppercase tracking-widest rounded-sm hover:bg-gray-50">Reset</button>
                    <button onclick="nextStage()" class="border border-gray-200 text-[#051C2C] px-10 py-6 text-xs font-bold uppercase tracking-widest rounded-sm hover:bg-gray-50"><i class="fas fa-step-forward mr-2"></i>Next</button>
                </div>
            </div>

            <div class="mt-12 grid md:grid-cols-2 gap-8">
                <div class="bg-white p-8 border border-gray-100 shadow-sm rounded-sm">
                    <h3 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-6">Prep Management</h3>
                    <div class="flex justify-between items-center mb-6 border-b pb-6">
                        <div>
                            <span class="text-xs font-bold text-[#051C2C] uppercase tracking-wider">AFF Prep Left</span>
                            <div id="prep-aff-display" class="text-3xl font-light text-[#051C2C]">04:00</div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="togglePrep('aff')" id="prep-aff-btn" class="border border-[#0072b1] text-[#0072b1] px-6 py-2 text-[10px] font-bold uppercase tracking-widest hover:bg-blue-50 transition-all">Start</button>
                            <button onclick="resetPrep('aff')" class="text-gray-400 hover:text-red-500 transition-colors px-2"><i class="fas fa-undo text-xs"></i></button>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-xs font-bold text-[#051C2C] uppercase tracking-wider">NEG Prep Left</span>
                            <div id="prep-neg-display" class="text-3xl font-light text-[#051C2C]">04:00</div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="togglePrep('neg')" id="prep-neg-btn" class="border border-[#0072b1] text-[#0072b1] px-6 py-2 text-[10px] font-bold uppercase tracking-widest hover:bg-blue-50 transition-all">Start</button>
                            <button onclick="resetPrep('neg')" class="text-gray-400 hover:text-red-500 transition-colors px-2"><i class="fas fa-undo text-xs"></i></button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-8 border border-gray-100 shadow-sm rounded-sm">
                    <h3 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-6">Speech Sequence (Click to Jump)</h3>
                    <div id="speech-queue" class="space-y-1">
                        <!-- Sequence injected via JS -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Screw Calculator -->
    <main id="page-screw" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-4xl mx-auto">
            <div class="mb-12 text-center">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Break Probability</h2>
                <h1 class="mck-serif text-6xl text-[#051C2C] mb-8">Screw Calculator</h1>
                <p class="text-gray-500 max-w-xl mx-auto text-sm leading-relaxed">Determine how many debaters with common records will miss the outround break based on total entries and field size.</p>
            </div>

            <div class="grid md:grid-cols-3 gap-12 mb-12">
                <div class="screw-input-group">
                    <label>Total Entries</label>
                    <input type="number" id="screw-entries" value="56">
                </div>
                <div class="screw-input-group">
                    <label>Total Rounds</label>
                    <input type="number" id="screw-rounds" value="6">
                </div>
                <div class="screw-input-group">
                    <label>Outround Break</label>
                    <select id="screw-break" onchange="toggleCustomBreak()">
                        <option value="2">Finals (2)</option>
                        <option value="4">Semifinals (4)</option>
                        <option value="8">Quarterfinals (8)</option>
                        <option value="12">Partial Quarters (12)</option>
                        <option value="16">Octafinals (16)</option>
                        <option value="24">Partial Octas (24)</option>
                        <option value="32" selected>Double Octas (32)</option>
                        <option value="48">Partial Doubles (48)</option>
                        <option value="64">Triples (64)</option>
                        <option value="custom">Custom Break Size...</option>
                    </select>
                </div>
            </div>

            <div id="custom-break-container" class="hidden max-w-xs mx-auto mb-12">
                <div class="screw-input-group">
                    <label>Custom Break Count</label>
                    <input type="number" id="screw-custom-break" value="32" placeholder="e.g. 52">
                </div>
            </div>

            <div class="text-center mb-12">
                <button onclick="calculateScrew()" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] rounded-sm">Calculate Projection</button>
            </div>

            <div id="screw-results" class="hidden">
                <div class="bg-white p-12 shadow-2xl rounded-sm border border-gray-100 mb-8">
                    <h3 class="mck-serif text-3xl text-[#051C2C] mb-6 text-center">The Architect's Verdict</h3>
                    <div id="screw-verdict-text" class="text-xl text-center text-gray-600 leading-relaxed max-w-2xl mx-auto mb-10">
                        <!-- Injected verdict -->
                    </div>
                    
                    <div class="space-y-6">
                        <h4 class="text-[10px] font-bold uppercase tracking-widest text-gray-400 text-center mb-8">Record Distribution Projection</h4>
                        <div id="screw-chart-container" class="space-y-4">
                            <!-- Bars injected -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Resource Hub -->
    <main id="page-hub" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="mb-4 flex flex-col md:flex-row justify-between items-end gap-4 border-b pb-8">
                <div>
                    <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-1">Universal Repository</h2>
                    <h1 class="mck-serif text-3xl md:text-4xl text-[#051C2C] leading-tight">Global <span class="italic text-[#0072b1] font-normal">Resource Hub.</span></h1>
                    <div class="mt-4 flex items-center gap-6">
                        <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-[#0072b1] bg-blue-50 px-3 py-1 rounded-full border border-blue-100">
                            Live Count: <span id="resource-counter" class="ml-1">0</span> Strategic Assets
                        </span>
                        <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="text-[9px] font-bold uppercase tracking-[0.2em] text-[#051C2C] hover:text-[#0072b1] flex items-center transition-colors">
                            <i class="fab fa-discord mr-2"></i> Recommend more resources
                        </a>
                    </div>
                </div>
                <div class="search-bar-container w-full md:w-auto">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="resource-search" placeholder="Search phil, camps, tools, authors..." oninput="filterResources()" class="search-input shadow-sm rounded-sm">
                </div>
            </div>

            <div id="resource-hub-container">
                <!-- Categories Injected via JS -->
            </div>
        </div>
    </main>

    <!-- Page: Resolution AI -->
    <main id="page-tools" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Lab</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Resolution AI</h1>
                <p class="text-gray-500 max-w-2xl text-base font-light leading-relaxed">Collaborate with our strategic engine to break down resolutions and map offensive paths.</p>
            </div>
            <div class="chat-container max-w-5xl shadow-2xl rounded-sm overflow-hidden mx-auto">
                <div id="chat-messages-res" class="chat-messages">
                    <div class="message message-architect">
                        <p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Architect AI</p>
                        <div class="ai-content"><p>Strategic protocols initialized. Provide a resolution below to begin analysis.</p></div>
                    </div>
                </div>
                <div id="chat-loading-res" class="px-8 py-4 hidden bg-white">
                    <div class="flex items-center space-x-3">
                        <div class="animate-pulse flex space-x-1"><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div></div>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1]">Architect is processing...</span>
                    </div>
                </div>
                <div class="p-4 bg-white border-t border-gray-100">
                    <div class="flex gap-4">
                        <input type="text" id="resolution-input" placeholder="Enter resolution..." onkeypress="if(event.key === 'Enter') analyzeTopic('res')" class="flex-grow p-4 bg-white border border-gray-200 focus:border-[#0072b1] outline-none text-sm transition-all rounded-sm">
                        <button onclick="analyzeTopic('res')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px] rounded-sm">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Auto Flow Generator -->
    <main id="page-autoflow" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12 text-center">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Strategic Utility</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Auto Flow Generator</h1>
                <p class="text-gray-500 max-w-2xl mx-auto text-base font-light leading-relaxed mb-8">
                    Instantly convert Verbatim cases into Excel flow templates. Only tags and citations (Author + Date) are extracted.
                </p>

                <div class="switch-container">
                    <span class="text-[10px] font-bold uppercase tracking-widest text-gray-500">AFF Flow (5 Col)</span>
                    <label class="switch">
                        <input type="checkbox" id="flow-mode-switch">
                        <span class="slider"></span>
                    </label>
                    <span class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">NEG Flow (4 Col + Tabs)</span>
                </div>

                <div class="bg-white p-12 shadow-xl border border-gray-100 max-w-2xl mx-auto text-center rounded-sm">
                    <i class="fas fa-file-excel text-6xl text-gray-200 mb-8 block"></i>
                    <input type="file" id="docx-input" accept=".docx" class="hidden">
                    <button onclick="document.getElementById('docx-input').click()" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] rounded-sm">Select Verbatim Case</button>
                    <div id="flow-status" class="mt-8 text-xs font-bold uppercase tracking-widest text-gray-400"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: FAQ & Mentor AI -->
    <main id="page-faq" class="page-view hidden pt-32 px-6 md:px-12 pb-32 min-h-screen bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="mb-16">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Learning Hub</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">FAQ</h1>
                <p class="text-gray-500 text-base font-light leading-relaxed">Fundamental knowledge for every debater, architected for clarity.</p>
            </div>
            <div id="faq-list" class="space-y-2 mb-24"></div>
            <div class="bg-gray-50 p-12 border border-gray-100 text-center mb-24">
                <h3 class="mck-serif text-3xl text-[#051C2C] mb-6">Still have questions?</h3>
                <p class="text-gray-600 mb-8 max-w-md mx-auto">Our human architects and community members are active 24/7 in the Discord.</p>
                <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="btn-mck text-white px-12 py-5 font-bold uppercase tracking-widest text-[10px] rounded-sm inline-block">Join our Discord</a>
            </div>

            <div class="mb-12 border-t pt-24">
                <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-4">Beta Prototype</h2>
                <h1 class="mck-serif text-5xl text-[#051C2C] mb-6">Debate Mentor AI</h1>
                <p class="text-gray-500 text-base font-light leading-relaxed mb-12 italic">Generic Debate AI trained on broad theory and terminology.</p>
                <div class="chat-container shadow-2xl rounded-sm overflow-hidden">
                    <div id="chat-messages-faq" class="chat-messages">
                        <div class="message message-architect">
                            <p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Mentor AI</p>
                            <div class="ai-content"><p>Ask me any general question about debate. For example: "What is a Kritik?" or "How do I flow more efficiently?"</p></div>
                        </div>
                    </div>
                    <div id="chat-loading-faq" class="px-8 py-4 hidden bg-white">
                        <div class="flex items-center space-x-3">
                            <div class="animate-pulse flex space-x-1"><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div><div class="h-1.5 w-1.5 bg-[#0072b1] rounded-full"></div></div>
                            <span class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1]">Mentor is teaching...</span>
                        </div>
                    </div>
                    <div class="p-4 bg-white border-t border-gray-100">
                        <div class="flex gap-4">
                            <input type="text" id="faq-input" placeholder="Ask a general debate question..." onkeypress="if(event.key === 'Enter') analyzeTopic('faq')" class="flex-grow p-4 bg-white border border-gray-200 focus:border-[#0072b1] outline-none text-sm transition-all rounded-sm">
                            <button onclick="analyzeTopic('faq')" class="btn-mck text-white px-10 py-4 font-bold uppercase tracking-widest text-[10px] rounded-sm">Ask</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Team -->
    <main id="page-team" class="page-view hidden pt-32 px-6 md:px-12 pb-32">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-[#0072b1] uppercase tracking-[0.4em] text-[10px] font-bold mb-6">Leadership</h2>
            <h1 class="mck-serif text-6xl md:text-7xl text-[#051C2C] mb-24">The Architects.</h1>
            <div id="team-grid" class="grid grid-cols-1 md:grid-cols-2 gap-x-20 gap-y-20"></div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-100 py-20 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start gap-12">
            <div class="flex items-center space-x-3">
                <img src="assets/logo.PNG" alt="Logo" class="h-8 w-auto" onerror="this.style.display='none'">
                <div class="text-2xl font-bold tracking-tighter text-[#051C2C]">DEBATE<span class="font-light">101</span></div>
            </div>
            <div class="flex flex-col space-y-4 text-[10px] font-bold uppercase tracking-widest text-gray-400">
                <a href="https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==" target="_blank" class="text-sm text-gray-600 normal-case hover:text-[#0072b1] transition-colors">Instagram</a>
                <a href="https://discord.gg/Vgyt8MrW" target="_blank" class="text-sm text-gray-600 normal-case hover:text-[#0072b1] transition-colors">Discord</a>
            </div>
        </div>
        <p class="mt-20 text-[10px] text-gray-400 uppercase tracking-[0.2em] font-bold text-center">Â© 2026 DEBATE 101 COLLECTIVE</p>
        <p class="mt-4 text-[10px] text-gray-400 uppercase tracking-[0.1em] text-center">
            If you wish to support our mission buy us a coffee: <a href="https://buymeacoffee.com/debate101" target="_blank" class="text-[#0072b1] hover:underline normal-case tracking-normal font-normal">buymeacoffee.com/debate101</a>
        </p>
    </footer>

    <script>
        const apiKey = "AIzaSyCBdioRfiPelbQi1tgBJQG6qt9fg3PdiJE"; 
        const resourceCategories = [
            {
                title: "Core Infrastructure",
                bgColor: "bg-blue-50",
                resources: [
                    { title: "Tabroom", desc: "The official NSDA repository for tournament registration and balloting history. Essential for tracking standings and circuit shifts.", link: "https://www.tabroom.com/", type: "external", icon: "fas fa-list", keywords: "registration, tournament, brackets, judging, nsda" },
                    { title: "Verbatim", desc: "The standard Word template for paperless debate. Features high-speed formatting macros and card organization used globally.", link: "http://paperlessdebate.com/", type: "external", icon: "fas fa-keyboard", keywords: "software, template, formatting, case building, word" },
                    { title: "Open Caselist", desc: "The central wiki where teams disclose evidence. Essential for scouting opponent strategies and researching meta-trends.", link: "https://opencaselist.com/", type: "external", icon: "fas fa-globe", keywords: "disclosure, wiki, evidence, scouting, history" },
                    { title: "NDCA Coaches Association", desc: "National Debate Coaches Association hub for coaches, open evidence archives, and administrative circuit protocols.", link: "https://www.debatecoaches.org/", type: "external", icon: "fas fa-archive", keywords: "ndca, open evidence, policy, ld" }
                ]
            },
            {
                title: "Prep Tools & Logic",
                bgColor: "bg-white",
                resources: [
                    { title: "Resolution AI", desc: "Elite synthesis engine for high-level resolution analysis. Map offensive paths and framework clashes instantly.", link: "#tools", type: "internal", icon: "fas fa-robot", keywords: "ai, strategist, analysis, resolution, intelligence" },
                    { title: "Auto Flow Generator", desc: "Proprietary Debate 101 tool for converting Cases into Excel Flow templates. Optimized for speed and technical clarity.", link: "#autoflow", type: "internal", icon: "fas fa-file-excel", keywords: "excel, flow, automated, spreadsheet" },
                    { title: "Debate.cards", desc: "A precision search engine designed specifically for finding carded evidence across multiple national circuit archives.", link: "https://debate.cards/", type: "external", icon: "fas fa-search-plus", keywords: "evidence search, carding, preparation" },
                    { title: "Logos Debate", desc: "A modern platform providing high-quality drills, evidence sets, and prep materials for LD and PF debaters.", link: "https://logos-debate.netlify.app/", type: "external", icon: "fas fa-bookmark", keywords: "prep, drills, logos" },
                    { title: "Cardr (GitHub)", desc: "Open-source browser extension for automated card-cutting from scholarly sites directly into Verbatim. Essential for research speed.", link: "https://github.com/SohamGovande/cardr", type: "external", icon: "fas fa-scissors", keywords: "extension, carding, research, github" },
                    { title: "Debate Flow (Vercel)", desc: "Cloud-based digital flowing platform. Supports collaborative notation and technical clarity in live rounds.", link: "https://debate-flow.vercel.app/", type: "external", icon: "fas fa-feather", keywords: "digital flow, cloud, sync, collab" }
                ]
            },
            {
                title: "Technical Utilities",
                bgColor: "bg-gray-50",
                resources: [
                    { title: "Architect Timer", desc: "Proprietary high-precision tournament timer for LD, Policy, and PF. Features automated speech sequences and prep tracking.", link: "#timer", type: "internal", icon: "fas fa-stopwatch", keywords: "timer, stop watch, clock, round time" },
                    { title: "DebateKeeper", desc: "The most customizable Android timer for competitive debate, supporting custom bell signals and prep-time logic.", link: "https://github.com/czlee/debatekeeper", type: "external", icon: "fas fa-stopwatch", keywords: "timer, android, prep time" },
                    { title: "DebTime", desc: "A minimalist, high-visibility web timer interface for tracking speech times on any device in-round.", link: "https://debti.me/", type: "external", icon: "fas fa-clock", keywords: "web timer, timing, debate" },
                    { title: "DebateTimers.com", desc: "Professional-grade browser timers featuring multi-room synchronization and streamlined UX for tournament use.", link: "https://debatetimers.com/", type: "external", icon: "fas fa-hourglass-half", keywords: "timer, clock, web" },
                    { title: "NCFCA Flow Sheets", desc: "Traditional flow sheet templates optimized for NCFCA Policy (Team Policy) and Lincoln Douglas formats.", link: "https://ncfca.org/resources/flow-sheets-policy-debate-tp/", type: "external", icon: "fas fa-table", keywords: "ncfca, template, flow" }
                ]
            },
            {
                title: "Calculators & Odds",
                bgColor: "bg-blue-50",
                resources: [
                    { title: "Screw Calculator", desc: "Proprietary projection utility for determining outround break points and 'bubble' probabilities based on tournament size.", link: "#screw", type: "internal", icon: "fas fa-calculator", keywords: "break, screw, odds, projection" },
                    { title: "DebateBreaker", desc: "Instant probability calculations for tournament breaks based on your current record and field power matching.", link: "https://www.debatebreaker.com/", type: "external", icon: "fas fa-calculator", keywords: "break calculator, odds, bracket" },
                    { title: "CDA Break Calc", desc: "Specialized calculator for determining break points and seed probabilities in large-scale tournament brackets.", link: "https://www.cdadebate.com/debate-tournament-break-calculator", type: "external", icon: "fas fa-percent", keywords: "break, seed, seeds" },
                    { title: "Circuit Debater Screw", desc: "Technical utility for calculating elimination round probabilities and ensuring fairness in bracket seeding.", link: "https://tools.circuitdebater.org/screw", type: "external", icon: "fas fa-tools", keywords: "screw calculator, bracket, circuit" }
                ]
            },
            {
                title: "Academy & Lectures",
                bgColor: "bg-white",
                resources: [
                    { title: "DebateRounds", desc: "Comprehensive archive of high-level debate round recordings across various circuits, providing essential technical film study.", link: "https://debaterounds.com/", type: "external", icon: "fas fa-video", keywords: "rounds, recordings, film study, technical" },
                    { title: "Debate Drills YT", desc: "Premier archive for technical drills and mechanics masterclasses. Essential for circuit readiness.", link: "https://www.youtube.com/@DebateDrills", type: "external", icon: "fab fa-youtube", keywords: "video, coaching, drills" },
                    { title: "Bill Batterman", desc: "Exhaustive lecture archive from one of the circuit's most respected minds, covering Policy and LD fundamentals.", link: "https://www.youtube.com/c/BillBatterman", type: "external", icon: "fas fa-chalkboard", keywords: "batterman, policy, lectures, theory" },
                    { title: "Proteus Academy", desc: "Strategy lab focused on high-level circuit trends and conceptual edges in national competition.", link: "https://www.youtube.com/@proteusdebateacademy", type: "external", icon: "fas fa-brain", keywords: "strategy, elite labs, proteus" },
                    { title: "NSDA Training", desc: "Official training and final round videos from the National Speech & Debate Association official archive.", link: "https://www.youtube.com/@nsdaspeechanddebate", type: "external", icon: "fas fa-video", keywords: "nsda, finals, official" },
                    { title: "LD Debate Prep", desc: "A comprehensive repository of training materials specifically tailored for high-level Lincoln Douglas competition.", link: "https://lddebateprep.org/", type: "external", icon: "fas fa-graduation-cap", keywords: "ld prep, learning" },
                    { title: "Argument Institute", desc: "Platform dedicated to the structural integrity of argumentation and high-level strategy and research methods.", link: "https://argumentinstitute.org/", type: "external", icon: "fas fa-university", keywords: "logic, structure, coaching" },
                    { title: "The Debate Guru", desc: "Community-driven site providing introductory case ideas and fundamental concept breakdowns for novices.", link: "https://thedebateguru.weebly.com/", type: "external", icon: "fas fa-star", keywords: "guru, help, novice" }
                ]
            },
            {
                title: "Critical & Phil Hub",
                bgColor: "bg-gray-50",
                resources: [
                    { title: "Stanford Encyclopedia", desc: "The gold standard for philosophical framework research. Peer-reviewed entries on every core concept in forensics.", link: "https://plato.stanford.edu/", type: "external", icon: "fas fa-landmark", keywords: "phil, philosophy, SEP, framework, kant, ethics" },
                    { title: "PhilPapers", desc: "Comprehensive directory of philosophical literature. Essential for finding niche primary sources for K-Aff research.", link: "https://philpapers.org/", type: "external", icon: "fas fa-balance-scale", keywords: "phil, papers, critical research, scholarship, archive" },
                    { title: "CTheory", desc: "International journal of theory and technology. Research standard for accelerationism and digital postmodernism.", link: "https://journals.uvic.ca/index.php/ctheory/index", type: "external", icon: "fas fa-bolt", keywords: "baudrillard, acceleration, theory, digital" },
                    { title: "The Funambulist", desc: "Magazine examining politics of space and bodies. Crucial for settler-colonialism and biopolitics research.", link: "https://thefunambulist.net/", type: "external", icon: "fas fa-walking", keywords: "colonialism, body politics, state, biopolitics" },
                    { title: "Kritikal Discussions", desc: "A platform dedicated to exploring the intersection of critical pedagogy and competitive debate strategy.", link: "https://www.kritikaldiscussions.com/", type: "external", icon: "fas fa-comments", keywords: "k-debate, critical, pedagogy" }
                ]
            },
            {
                title: "Elite Camps & Orgs",
                bgColor: "bg-white",
                resources: [
                    { title: "Harvard Workshops", desc: "World-class summer workshops taught by Ivy League champions and national circuit coaches.", link: "https://hdcsw.org/", type: "external", icon: "fas fa-crown", keywords: "camp, harvard, summer" },
                    { title: "Michigan Debate", desc: "The most rigorous Policy intensive workshop globally, known for its extreme research standards.", link: "https://michigandebate.com/", type: "external", icon: "fas fa-flask", keywords: "policy camp, michigan, summer" },
                    { title: "Victory Briefs", desc: "National hub for LD and PF training, featuring specialized technical labs and leading publications.", link: "https://victorybriefs.com/", type: "external", icon: "fas fa-trophy", keywords: "camp, ld, pf, victory briefs" },
                    { title: "Lumos Debate", desc: "Global debate camp and coaching initiative focused on public speaking and competitive success across all formats.", link: "https://www.lumosdebate.com/", type: "external", icon: "fas fa-lightbulb", keywords: "lumos, camp, coaching" },
                    { title: "NS Debate Camp", desc: "Specialized training workshop with a renowned glossary for the Tournament of Champions (TOC).", link: "https://www.nsdebatecamp.com/glossary/tournament-of-champions", type: "external", icon: "fas fa-award", keywords: "toc, glossary, camp" },
                    { title: "Outreach Debate", desc: "Initiative focused on expanding access to competitive discourse for under-resourced schools and communities.", link: "https://www.outreachdebate.com/", type: "external", icon: "fas fa-hands-helping", keywords: "outreach, inclusive" },
                    { title: "PepTalk Debate", desc: "Mentorship-focused debate training designed to empower middle and high school students through discourse.", link: "https://www.peptalkdebate.org/", type: "external", icon: "fas fa-bullhorn", keywords: "mentorship, pep talk" },
                    { title: "Vanguard Debate", desc: "Innovative tournament management and tabulation software designed for modern high-speed circuit efficiency.", link: "https://vanguarddebate.com/", type: "external", icon: "fas fa-shield-alt", keywords: "vanguard, tab, tournament" }
                ]
            },
            {
                title: "Equity & Community",
                bgColor: "bg-blue-50",
                resources: [
                    { title: "Architect Discord", desc: "Join our community hub for real-time round analysis, practice debates, and direct lead architect access.", link: "https://discord.gg/Vgyt8MrW", type: "external", icon: "fab fa-discord", keywords: "discord, community, chat, social" },
                    { title: "Debate 101 Instagram", desc: "Follow for circuit news, round highlights, upcoming lecture series announcements, and community features.", link: "https://www.instagram.com/thedebate.101?igsh=MW9zaDQxeTEyNHZwOA==", type: "external", icon: "fab fa-instagram", keywords: "instagram, social media, news" },
                    { title: "CDA Financial Aid", desc: "Essential resource for high school debaters seeking financial support and accessibility grants for competition.", link: "https://www.cdadebate.com/financial-aid", type: "external", icon: "fas fa-hand-holding-usd", keywords: "aid, grants, scholarships" },
                    { title: "Women's Debate Inst.", desc: "Non-profit providing elite debate education for gender-marginalized students to bridge the equity gap.", link: "https://www.womensdebateinstitute.org/", type: "external", icon: "fas fa-female", keywords: "wdi, inclusive, equity" },
                    { title: "W.I.N. Instagram", desc: "Women in National Debate platform focusing on representation, success stories, and community highlights.", link: "https://www.instagram.com/windebate/", type: "external", icon: "fab fa-instagram", keywords: "win, media, community" },
                    { title: "r/Debate", desc: "The primary community hub for discussion on all competitive formats, including PF, LD, and Policy.", link: "https://www.reddit.com/r/Debate/", type: "external", icon: "fab fa-reddit-alien", keywords: "reddit, community, forum" },
                    { title: "LD Docs (Email List)", desc: "The definitive LD debate email list for high-level technical discussion and evidence exchange.", link: "mailto:lddocs@groups.google.com", type: "external", icon: "fas fa-envelope-open-text", keywords: "email list, technical, ld" }
                ]
            },
            {
                title: "Primary Research",
                bgColor: "bg-white",
                resources: [
                    { title: "Google Scholar", desc: "Standard entry point for scholarly literature, legal citations, and deep case law mining.", link: "https://scholar.google.com/", type: "external", icon: "fas fa-search", keywords: "scholar, research, data" },
                    { title: "JSTOR", desc: "Primary digital library for academic journals and social science archives essential for K-aff prep.", link: "https://www.jstor.org/", type: "external", icon: "fas fa-book-reader", keywords: "research, journals, academic" },
                    { title: "LexisNexis", desc: "Ultimate archive for news, legal records, and empirical government data used in high-level research.", link: "https://www.lexisnexis.com/en-us/gateway.page", type: "external", icon: "fas fa-gavel", keywords: "legal, news, empirics" },
                    { title: "Brookings", desc: "Non-partisan policy analysis white papers; invaluable for internal link cards and DA impacts.", link: "https://www.brookings.edu/", type: "external", icon: "fas fa-building", keywords: "policy, white papers, stats" }
                ]
            }
        ];

        const teamData = [
            {
                name: "Vivaan Shahani",
                role: "Co-Founder - Head of Web Development & Tool Creation",
                image: "assets/vivaan.png",
                blurb: "Strategic visionary architecting the intersection of economics, technology, and competitive debate.",
                depth: "Vivaan Shahani is a high-achieving scholar (Class of 2028) operating at the intersection of economics, technology, and strategic communication. With a 3.98 GPA and technical proficiency in Java, Python, and Swift, he co-founded Solarflare Robotics and established various independent ventures. As a Varsity Representative for the Edgemont Debate Team and a National Quarterfinalist, he has mastered synthesizing complex geopolitical data into persuasive arguments."
            },
            {
                name: "Max Feinstein",
                role: "Co-Founder - Head of Media Management and Analysis",
                image: "assets/max-f.png",
                blurb: "A specialist in postmodern literature and critical methodology, redefining competitive discourse through rigor.",
                depth: "Max Feinstein is a Freshman at The Altamont School in Birmingham, Alabama. He specializes in Kritikal debate and postmodern literature (Neoliberal logistics, Baudrillard, Nietzsche, Lacan, and Jung). Max values collaborative learning and strategic argument creation."
            },
            {
                name: "Max McBride",
                role: "Co-Founder - Head of Community Building and Outreach",
                image: "assets/max-m.jpg",
                blurb: "Specialist in geopolitical resolutions and empirical evidence analysis.",
                depth: "Max McBride brings deep analytical rigor to the collective's research foundation. He focuses on post-fiat implications and systemic violence literature, helping bridge the gap for community outreach."
            },
            {
                name: "Arjun Gupta",
                role: "Co-Founder - Head of Lecture Creation & Debate Analysis",
                image: "assets/arjun.png",
                blurb: "Lead analyst for K-Aff argumentation and critical literature.",
                depth: "Arjun Gupta manages high-level lecture creation, ensuring that complex critical theory is simplified for the community through rigorous round analysis."
            }
        ];

        // TIMER LOGIC
        const timerConfig = {
            LD: {
                sequence: [
                    { name: "1AC", time: 360 },
                    { name: "CX by NEG", time: 180 },
                    { name: "1NC", time: 420 },
                    { name: "CX by AFF", time: 180 },
                    { name: "1AR", time: 240 },
                    { name: "2NR", time: 360 },
                    { name: "2AR", time: 180 }
                ],
                prep: 240
            },
            Policy: {
                sequence: [
                    { name: "1AC", time: 480 },
                    { name: "CX by 2N", time: 180 },
                    { name: "1NC", time: 480 },
                    { name: "CX by 1A", time: 180 },
                    { name: "2AC", time: 480 },
                    { name: "CX by 1N", time: 180 },
                    { name: "2NC", time: 480 },
                    { name: "CX by 2A", time: 180 },
                    { name: "1NR", time: 300 },
                    { name: "1AR", time: 300 },
                    { name: "2NR", time: 300 },
                    { name: "2AR", time: 300 }
                ],
                prep: 480
            },
            PF: {
                sequence: [
                    { name: "1st Speaker (Team A)", time: 240 },
                    { name: "1st Speaker (Team B)", time: 240 },
                    { name: "Crossfire", time: 180 },
                    { name: "2nd Speaker (Team A)", time: 240 },
                    { name: "2nd Speaker (Team B)", time: 240 },
                    { name: "Crossfire", time: 180 },
                    { name: "Summary (Team A)", time: 180 },
                    { name: "Summary (Team B)", time: 180 },
                    { name: "Grand Crossfire", time: 180 },
                    { name: "Final Focus (Team A)", time: 120 },
                    { name: "Final Focus (Team B)", time: 120 }
                ],
                prep: 180
            }
        };

        let currentFormat = 'LD';
        let currentStageIdx = 0;
        let timeLeft = 360;
        let isRunning = false;
        let timerInterval = null;

        let affPrepLeft = 240;
        let negPrepLeft = 240;
        let prepActive = null; 

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playBeep() {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(880, audioCtx.currentTime); 
            gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.1, audioCtx.currentTime + 0.01);
            gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.5);
            oscillator.start(audioCtx.currentTime);
            oscillator.stop(audioCtx.currentTime + 0.5);
        }

        function setTimerFormat(format) {
            currentFormat = format;
            currentStageIdx = 0;
            timeLeft = timerConfig[format].sequence[0].time;
            affPrepLeft = timerConfig[format].prep;
            negPrepLeft = timerConfig[format].prep;
            isRunning = false;
            prepActive = null;
            clearInterval(timerInterval);
            
            document.querySelectorAll('.timer-btn').forEach(b => b.classList.remove('timer-btn-active'));
            document.getElementById(`format-${format}`).classList.add('timer-btn-active');
            
            document.getElementById('ld-settings').style.display = format === 'LD' ? 'flex' : 'none';
            
            updateTimerUI();
            renderSpeechQueue();
        }

        function setLDPrep(seconds) {
            timerConfig.LD.prep = seconds;
            affPrepLeft = seconds;
            negPrepLeft = seconds;
            document.getElementById('ld-prep-240').classList.toggle('timer-btn-active', seconds === 240);
            document.getElementById('ld-prep-300').classList.toggle('timer-btn-active', seconds === 300);
            updateTimerUI();
        }

        function updateTimerUI() {
            const stage = timerConfig[currentFormat].sequence[currentStageIdx];
            document.getElementById('timer-stage-label').innerText = `${stage.name} (${Math.floor(stage.time/60)}:00)`;
            
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            document.getElementById('timer-display').innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            
            document.getElementById('timer-start-pause').innerText = isRunning ? 'Pause' : 'Start';
            
            const amins = Math.floor(affPrepLeft / 60);
            const asecs = affPrepLeft % 60;
            document.getElementById('prep-aff-display').innerText = `${amins.toString().padStart(2, '0')}:${asecs.toString().padStart(2, '0')}`;
            document.getElementById('prep-aff-btn').innerText = prepActive === 'aff' ? 'Stop' : 'Start';
            
            const nmins = Math.floor(negPrepLeft / 60);
            const nsecs = negPrepLeft % 60;
            document.getElementById('prep-neg-display').innerText = `${nmins.toString().padStart(2, '0')}:${nsecs.toString().padStart(2, '0')}`;
            document.getElementById('prep-neg-btn').innerText = prepActive === 'neg' ? 'Stop' : 'Start';
        }

        function toggleTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timerInterval);
            } else {
                prepActive = null; 
                isRunning = true;
                timerInterval = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        updateTimerUI();
                    } else {
                        clearInterval(timerInterval);
                        isRunning = false;
                        playBeep();
                        updateTimerUI();
                    }
                }, 1000);
            }
            updateTimerUI();
        }

        function togglePrep(side) {
            if (prepActive === side) {
                prepActive = null;
                clearInterval(timerInterval);
            } else {
                isRunning = false; 
                prepActive = side;
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    if (side === 'aff' && affPrepLeft > 0) {
                        affPrepLeft--;
                    } else if (side === 'neg' && negPrepLeft > 0) {
                        negPrepLeft--;
                    } else {
                        clearInterval(timerInterval);
                        prepActive = null;
                        playBeep();
                    }
                    updateTimerUI();
                }, 1000);
            }
            updateTimerUI();
        }

        function resetPrep(side) {
            if (side === 'aff') affPrepLeft = timerConfig[currentFormat].prep;
            else negPrepLeft = timerConfig[currentFormat].prep;
            if (prepActive === side) {
                prepActive = null;
                clearInterval(timerInterval);
            }
            updateTimerUI();
        }

        function resetTimer() {
            timeLeft = timerConfig[currentFormat].sequence[currentStageIdx].time;
            isRunning = false;
            prepActive = null;
            clearInterval(timerInterval);
            updateTimerUI();
        }

        function jumpToStage(idx) {
            currentStageIdx = idx;
            timeLeft = timerConfig[currentFormat].sequence[currentStageIdx].time;
            isRunning = false;
            prepActive = null;
            clearInterval(timerInterval);
            updateTimerUI();
            renderSpeechQueue();
        }

        function nextStage() {
            if (currentStageIdx < timerConfig[currentFormat].sequence.length - 1) {
                jumpToStage(currentStageIdx + 1);
            }
        }

        function renderSpeechQueue() {
            const container = document.getElementById('speech-queue');
            container.innerHTML = timerConfig[currentFormat].sequence.map((s, idx) => `
                <div onclick="jumpToStage(${idx})" class="speech-item ${idx === currentStageIdx ? 'speech-item-active' : 'opacity-40'}">
                    <span class="text-[10px] font-bold uppercase tracking-widest">${s.name}</span>
                    <span class="text-[10px] font-mono">${Math.floor(s.time/60)}:00</span>
                </div>
            `).join('');
        }

        // SCREW CALCULATOR LOGIC
        function factorial(n) {
            if (n === 0) return 1;
            let res = 1;
            for (let i = 1; i <= n; i++) res *= i;
            return res;
        }

        function nCr(n, r) {
            if (r < 0 || r > n) return 0;
            return factorial(n) / (factorial(r) * factorial(n - r));
        }

        function toggleCustomBreak() {
            const val = document.getElementById('screw-break').value;
            document.getElementById('custom-break-container').classList.toggle('hidden', val !== 'custom');
        }

        function calculateScrew() {
            const entries = parseInt(document.getElementById('screw-entries').value);
            const rounds = parseInt(document.getElementById('screw-rounds').value);
            const breakSelect = document.getElementById('screw-break').value;
            const breakSize = breakSelect === 'custom' ? parseInt(document.getElementById('screw-custom-break').value) : parseInt(breakSelect);
            
            const resultsDiv = document.getElementById('screw-results');
            const verdictDiv = document.getElementById('screw-verdict-text');
            const chartDiv = document.getElementById('screw-chart-container');

            resultsDiv.classList.remove('hidden');

            const distribution = [];
            for (let wins = rounds; wins >= 0; wins--) {
                const prob = nCr(rounds, wins) / Math.pow(2, rounds);
                const count = Math.round(entries * prob * 10) / 10;
                distribution.push({ wins, count, losses: rounds - wins });
            }

            let slotsLeft = breakSize;
            let bubbleRecord = null;
            let bubbleScrewCount = 0;
            let bubbleTotalAtRecord = 0;

            for (let i = 0; i < distribution.length; i++) {
                const item = distribution[i];
                if (slotsLeft >= item.count) {
                    slotsLeft -= item.count;
                } else if (slotsLeft > 0) {
                    bubbleRecord = `${item.wins}-${item.losses}`;
                    bubbleTotalAtRecord = item.count;
                    bubbleScrewCount = Math.round((item.count - slotsLeft) * 10) / 10;
                    slotsLeft = 0;
                }
            }

            if (bubbleRecord) {
                const percent = Math.round((bubbleScrewCount / bubbleTotalAtRecord) * 100);
                verdictDiv.innerHTML = `Approximately <span class="text-red-500 font-bold">${bubbleScrewCount} out of ${bubbleTotalAtRecord}</span> debaters with a <strong>${bubbleRecord}</strong> record will miss the break.<br><br>The <span class="text-red-500 font-bold">${bubbleRecord} Screw probability is ${percent}%</span>.`;
            } else {
                verdictDiv.innerHTML = `<span class="text-green-600 font-bold">Clear Break</span>: All debaters with competitive records are projected to break without a screw.`;
            }

            const maxCount = Math.max(...distribution.map(d => d.count));
            chartDiv.innerHTML = distribution.map(d => {
                const isBubble = `${d.wins}-${d.losses}` === bubbleRecord;
                const width = (d.count / maxCount) * 100;
                return `
                    <div class="flex items-center gap-4">
                        <div class="w-12 text-[10px] font-bold text-gray-500">${d.wins}-${d.losses}</div>
                        <div class="flex-grow chart-bar">
                            <div class="chart-bar-fill ${isBubble ? 'bubble-danger' : ''}" style="width: ${width}%"></div>
                        </div>
                        <div class="w-12 text-[10px] font-bold text-[#051C2C]">${d.count}</div>
                    </div>
                `;
            }).join('');
        }

        function triggerGlobalSearch() {
            showPage('hub');
            setTimeout(() => {
                document.getElementById('resource-search').focus();
            }, 100);
        }

        // CAROUSEL NAVIGATION
        function scrollCarousel(id, offset) {
            const el = document.getElementById(id);
            if (el) el.scrollLeft += offset;
        }

        let chatHistoryRes = [];
        let chatHistoryFaq = [];

        function initHub() {
            const container = document.getElementById('resource-hub-container');
            const counter = document.getElementById('resource-counter');
            if (!container) return;

            const total = resourceCategories.reduce((acc, cat) => acc + cat.resources.length, 0);
            counter.innerText = total;

            container.innerHTML = resourceCategories.map((cat, idx) => `
                <div class="resource-category-section ${cat.bgColor} -mx-12 px-12 py-8 border-y border-gray-100 mt-4">
                    <h3 class="mck-serif text-xl text-[#051C2C] mb-6 pb-2 border-b border-gray-200">${cat.title}</h3>
                    <div class="carousel-wrapper">
                        <div class="nav-arrow nav-arrow-left" onclick="scrollCarousel('cat-carousel-${idx}', -320)"><i class="fas fa-chevron-left"></i></div>
                        <div id="cat-carousel-${idx}" class="carousel-container pb-4">
                            ${cat.resources.map(res => `
                                <a href="${res.link}" target="${res.type === 'internal' ? '_self' : '_blank'}" class="carousel-card ${res.type === 'internal' ? 'accent-blue' : 'accent-gray'} resource-item-card resource-hub-card" data-title="${res.title}" data-desc="${res.desc}" data-keywords="${res.keywords || ''}" ${res.type === 'internal' ? `onclick="showPage('${res.link.replace('#','')}')"` : ''}>
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <span class="res-label ${res.type === 'internal' ? 'label-internal' : 'label-external'}">${res.type}</span>
                                            <span class="text-[11px] block mt-1 font-bold uppercase tracking-widest text-[#051C2C]">${res.title}</span>
                                        </div>
                                        <i class="${res.icon} text-blue-100 text-lg"></i>
                                    </div>
                                    <p class="text-[11px] text-gray-500 leading-tight mt-1 line-clamp-3">${res.desc}</p>
                                    <div class="flex justify-between items-center mt-auto">
                                        <span class="text-[8px] font-bold uppercase tracking-widest text-gray-400">Access</span>
                                        <i class="fas fa-arrow-right arrow-icon"></i>
                                    </div>
                                </a>
                            `).join('')}
                        </div>
                        <div class="nav-arrow nav-arrow-right" onclick="scrollCarousel('cat-carousel-${idx}', 320)"><i class="fas fa-chevron-right"></i></div>
                    </div>
                </div>
            `).join('');
        }

        function filterResources() {
            const query = document.getElementById('resource-search').value.toLowerCase();
            document.querySelectorAll('.resource-item-card').forEach(card => {
                const searchStr = (card.getAttribute('data-title') + card.getAttribute('data-desc') + card.getAttribute('data-keywords')).toLowerCase();
                card.style.display = searchStr.includes(query) ? 'flex' : 'none';
            });
            document.querySelectorAll('.resource-category-section').forEach(sec => {
                const visible = Array.from(sec.querySelectorAll('.resource-item-card')).some(c => c.style.display === 'flex');
                sec.style.display = visible ? 'block' : 'none';
            });
        }

        function initFaq() {
            const list = document.getElementById('faq-list');
            if (!list) return;
            const faqContent = [
                { q: "What is Lincoln-Douglas (LD) debate?", a: "LD is a one-on-one debate format focusing on philosophical values and criteria. It traditionally clashes on moral imperatives, though modern 'circuit' LD includes policy-style plans and kritiks." },
                { q: "What is Policy debate?", a: "Policy debate involves two-on-two teams debating a government's course of action. It is highly technical, evidence-intensive, and focuses on pragmatism and structural outcomes." },
                { q: "What is a 'flow' in debate?", a: "Flowing is the specialized form of note-taking used by debaters to track the evolution of every argument throughout a round, usually organized in columns by speech." }
            ];
            list.innerHTML = faqContent.map((item) => `
                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        <span class="text-sm font-bold uppercase tracking-widest text-[#051C2C]">${item.q}</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer"><p class="text-sm text-gray-600">${item.a}</p></div>
                </div>
            `).join('');
        }

        function initTeam() {
            const grid = document.getElementById('team-grid');
            if (!grid) return;
            grid.innerHTML = teamData.map((member, index) => `
                <div class="team-card py-12 px-2">
                    <img src="${member.image}" alt="${member.name}" class="profile-img" onerror="this.src='https://via.placeholder.com/600/051C2C/FFFFFF?text=${member.name}'">
                    <span class="text-[#0072b1] text-[10px] font-bold uppercase tracking-[0.3em]">${member.role}</span>
                    <h3 class="mck-serif text-3xl text-[#051C2C] mt-4 mb-4">${member.name}</h3>
                    <p class="text-gray-500 mb-8 leading-relaxed max-w-md italic">${member.blurb}</p>
                    <button onclick="toggleDepth(${index})" class="text-[10px] font-bold uppercase tracking-widest text-[#051C2C]">Full Profile +</button>
                    <div id="depth-${index}" class="expand-content"><div class="py-8 text-gray-600 text-sm leading-relaxed border-t mt-6">${member.depth}</div></div>
                </div>
            `).join('');
        }

        function toggleDepth(index) { document.getElementById(`depth-${index}`).classList.toggle('active'); }

        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(p => p.classList.add('hidden'));
            const target = document.getElementById(`page-${pageId}`);
            if (target) {
                target.classList.remove('hidden');
                if (history.pushState) history.pushState(null, null, '#' + pageId);
                else location.hash = '#' + pageId;
            }
            const menuOverlay = document.getElementById('mobile-menu-overlay');
            if (menuOverlay.classList.contains('active')) toggleMobileMenu();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu-overlay');
            menu.classList.toggle('active');
        }

        function scrollToSection(sectionId) {
            showPage('home');
            setTimeout(() => {
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 100);
        }

        async function analyzeTopic(type) {
            const inputId = type === 'res' ? 'resolution-input' : 'faq-input';
            const msgId = type === 'res' ? 'chat-messages-res' : 'chat-messages-faq';
            const loadingId = type === 'res' ? 'chat-loading-res' : 'chat-loading-faq';
            const historyStore = type === 'res' ? chatHistoryRes : chatHistoryFaq;
            const inputField = document.getElementById(inputId);
            const rawInput = inputField.value.trim();
            if (!rawInput) return;
            
            const loading = document.getElementById(loadingId);
            appendMessage(type === 'res' ? 'user' : 'user', rawInput, msgId);
            inputField.value = ""; 
            loading.classList.remove('hidden');
            historyStore.push({ role: "user", parts: [{ text: rawInput }] });
            
            const prompt = type === 'res' ? "You are a Lead Debate Strategist. Break down this resolution, suggesting 3 AFF paths and 3 NEG paths. Focus on LD or Policy context." : "You are a Debate Mentor. Answer this general question about debate technicalities or theory clearly.";
            
            const callGemini = async (retryCount = 0) => {
                try {
                    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                    const response = await fetch(url, { 
                        method: 'POST', 
                        headers: { 'Content-Type': 'application/json' }, 
                        body: JSON.stringify({ 
                            contents: historyStore, 
                            systemInstruction: { parts: [{ text: prompt }] } 
                        }) 
                    });
                    if (!response.ok) throw new Error("API Error");
                    const result = await response.json();
                    return result.candidates?.[0]?.content?.parts?.[0]?.text || "Protocol Error.";
                } catch (e) {
                    if (retryCount < 5) {
                        const delay = Math.pow(2, retryCount) * 1000;
                        await new Promise(res => setTimeout(res, delay));
                        return callGemini(retryCount + 1);
                    }
                    throw e;
                }
            };

            try {
                const aiText = await callGemini();
                historyStore.push({ role: "model", parts: [{ text: aiText }] });
                appendMessage(type === 'res' ? 'architect' : 'architect', aiText, msgId);
            } catch (e) { 
                appendMessage(type === 'res' ? 'architect' : 'architect', "Communication failed. Check protocols and try again.", msgId); 
            } finally { 
                loading.classList.add('hidden'); 
            }
        }

        function appendMessage(role, text, containerId) {
            const container = document.getElementById(containerId);
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${role === 'user' ? 'message-user' : 'message-architect'}`;
            msgDiv.innerHTML = `
                ${role === 'architect' ? `<p class="text-[10px] font-bold uppercase tracking-widest text-[#0072b1] mb-2">Architect AI</p>` : ''}
                <div class="ai-content">${formatAiResponse(text)}</div>
            `;
            container.appendChild(msgDiv); 
            container.scrollTop = container.scrollHeight;
        }

        function formatAiResponse(text) {
            return text.split('\n\n').map(block => {
                const lines = block.split('\n');
                if (lines[0].startsWith('###') || lines[0].match(/^\d+\./)) {
                    return `<div class="mb-4"><h4>${lines.shift().replace(/#/g, '')}</h4><p class="text-sm">${lines.join('<br>')}</p></div>`;
                }
                return `<p class="mb-4">${block.replace(/\n/g, '<br>')}</p>`;
            }).join('');
        }

        // AUTO-FLOW LOGIC
        document.getElementById('docx-input').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const status = document.getElementById('flow-status');
            const isNegMode = document.getElementById('flow-mode-switch').checked;
            status.innerText = "Extracting Verbatim protocols...";

            const reader = new FileReader();
            reader.onload = async (event) => {
                try {
                    const options = { styleMap: ["p[style-name='Heading 2'] => h2:fresh", "p[style-name='Heading 4'] => h4:fresh", "p[style-name='Tag'] => h4:fresh", "p[style-name='Cite'] => p.cite:fresh"] };
                    const result = await mammoth.convertToHtml({ arrayBuffer: event.target.result }, options);
                    const parser = new DOMParser();
                    const htmlDoc = parser.parseFromString(result.value, 'text/html');
                    const elements = Array.from(htmlDoc.querySelectorAll('h2, h4, p'));
                    
                    const wb = XLSX.utils.book_new();
                    const affHeaders = ["1AC", "1NC", "1AR", "2NR", "2AR"];
                    const negHeaders = ["1NC", "1AR", "2NR", "2AR"];
                    const headers = isNegMode ? negHeaders : affHeaders;

                    let currentSheetData = [headers];
                    let currentSheetName = "Flow";
                    let usedSheetNames = new Set();

                    function getUniqueName(name) {
                        let clean = (name || "Sheet").trim().replace(/[:\\\/\?\*\[\]]/g, "").substring(0, 25);
                        if (!clean) clean = "Argument";
                        let finalName = clean;
                        let count = 2;
                        while (usedSheetNames.has(finalName)) {
                            finalName = `${clean} (${count})`;
                            count++;
                        }
                        usedSheetNames.add(finalName);
                        return finalName;
                    }

                    for (let i = 0; i < elements.length; i++) {
                        const el = elements[i];
                        if (isNegMode && el.tagName === 'H2') {
                            if (currentSheetData.length > 1) {
                                const ws = XLSX.utils.aoa_to_sheet(currentSheetData);
                                styleWorksheet(ws);
                                XLSX.utils.book_append_sheet(wb, ws, getUniqueName(currentSheetName));
                            }
                            currentSheetName = el.innerText.trim();
                            currentSheetData = [headers];
                            continue;
                        }

                        if (el.tagName === 'H4' && el.innerText.trim()) {
                            let dt = el.innerText.trim();
                            if (i + 1 < elements.length && (elements[i+1].classList.contains('cite') || elements[i+1].innerText.match(/\b[A-Z][a-z]+.* (\d{2}|\d{4})\b/))) {
                                dt += ` (${elements[i+1].innerText.trim()})`; i++;
                            }
                            currentSheetData.push([dt]); currentSheetData.push([]);
                        }
                    }

                    const finalWs = XLSX.utils.aoa_to_sheet(currentSheetData);
                    styleWorksheet(finalWs);
                    XLSX.utils.book_append_sheet(wb, finalWs, getUniqueName(currentSheetName));

                    XLSX.writeFile(wb, file.name.replace('.docx', '_FLOW.xlsx'));
                    status.innerText = "Success: Flow generated.";
                } catch (err) { status.innerText = "Processing Failed."; console.error(err); }
            };
            reader.readAsArrayBuffer(file);
        });

        function styleWorksheet(ws) {
            ws['!cols'] = [{ wch: 60 }, { wch: 60 }, { wch: 60 }, { wch: 60 }, { wch: 60 }];
            const hdrStyle = { font: { bold: true }, fill: { fgColor: { rgb: "D3D3D3" } }, alignment: { horizontal: "center" } };
            const affStyle = { fill: { fgColor: { rgb: "F0F9FF" } }, alignment: { wrapText: true, vertical: "top" } };
            for (let z in ws) {
                if (z[0] === '!') continue;
                if (z.substring(1) === '1') ws[z].s = hdrStyle;
                else if (['A', 'C', 'E'].includes(z[0])) ws[z].s = affStyle;
                else ws[z].s = { alignment: { wrapText: true, vertical: "top" } };
            }
        }

        window.onload = () => { 
            const hash = location.hash.replace('#', '') || 'home';
            showPage(hash); 
            initHub();
            initTeam();
            initFaq();
            setTimerFormat('LD');

            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 20) {
                    navbar.classList.add('nav-scrolled');
                } else {
                    navbar.classList.remove('nav-scrolled');
                }
            });
        };

        window.onpopstate = () => {
            const hash = location.hash.replace('#', '') || 'home';
            showPage(hash);
        };
    </script>
</body>
</html>